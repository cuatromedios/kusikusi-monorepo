(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0364":function(e,t,a){},"0733":function(e,t,a){"use strict";var n=a("0364"),i=a.n(n);i.a},"4b82":function(e,t,a){},"4c65":function(e,t,a){"use strict";var n=a("4b82"),i=a.n(n);i.a},"55f0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"medium-item",class:{"cursor-drag":e.reorderMode}},[e.medium.properties&&e.medium.properties.isWebImage&&"svg"!==e.medium.properties.format&&!e.uploading?a("q-img",{staticClass:"checkered-bg",attrs:{src:""+e.$store.getters.media_url+e.medium.thumb+"?"+Math.random(),ratio:1,contain:""}}):e._e(),e.medium.properties&&e.medium.properties.isWebImage&&"svg"===e.medium.properties.format&&!e.uploading?a("q-img",{staticClass:"checkered-bg",attrs:{src:""+e.$store.getters.media_url+e.medium.original+"?"+Math.random(),ratio:1,contain:""}}):e._e(),e.medium.properties&&e.medium.properties.isWebImage&&!e.uploading?e._e():a("q-responsive",{attrs:{ratio:1}},[a("div",{staticClass:"rounded-borders bg-grey-2 text-white flex flex-center"},[e.medium.properties&&e.medium.properties.isWebImage?e._e():a("q-icon",{attrs:{size:"80px",color:"grey-5",name:e.medium.properties?e.medium.properties.isImage?"image":e.medium.properties.isVideo?"movie":e.medium.properties.isAudio?"graphic_eq":e.medium.properties.isDocument?"description":"insert_drive_file":"blur_on"}})],1)]),a("q-icon",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"absolute-top-left",staticStyle:{left:"16px",top:"16px",opacity:"0.5"},attrs:{name:"cloud_upload",size:"lg"}}),a("q-file",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"filePicker",staticClass:"absolute-top-left",staticStyle:{width:"4em",height:"4em",left:"8px",top:"8px"},attrs:{label:"",outlined:"",rounded:"",accept:e.acceptedFile,loading:e.uploading},on:{input:e.updateFile,rejected:e.rejectedFile},scopedSlots:e._u([{key:"file",fn:function(){},proxy:!0}])}),a("q-btn-dropdown",{staticClass:"absolute-top-right",attrs:{round:"","dropdown-icon":"more_vert",flat:"",color:"grey-6"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:{name:"content",params:{entity_id:e.medium.id}},target:"_blank"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"launch"}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(e.$t("media.edit")))])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.onUnlink}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"link_off"}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(e.$t("media.unlink")))])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.$refs.filePicker.pickFiles()}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"cloud_upload"}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(e.$t("media.replace")))])],1)],1)],1)],1),a("q-separator"),a("q-card-actions",{staticClass:"row",attrs:{side:""}},[a("h3",{staticClass:"col-12",staticStyle:{"word-break":"break-all"}},[a("q-icon",{staticClass:"q-mr-xs",attrs:{name:e.medium.properties?e.medium.properties.isImage?"image":e.medium.properties.isVideo?"movie":e.medium.properties.isAudio?"graphic_eq":e.medium.properties.isDocument?"description":"insert_drive_file":"blur_on"}}),e._v("\n      "+e._s(e.medium.title||e.$t(e.$store.getters.nameOf(e.medium.model)))+"\n      "),e.medium.properties?a("span",{staticClass:"text-grey-8"},[e._v("("+e._s(e.medium.properties.format)+")")]):e._e()],1),e.tags&&e.tags.length>0?a("div",{staticClass:"row items-center col-12"},[a("q-select",{ref:"tagSelector",staticClass:"tag-select",attrs:{options:e.tags,multiple:"","use-chips":"",dense:"",borderless:""},on:{input:e.onInput},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"local_offer",size:"xs",color:"info"}}),a("small",[e._v(e._s(e.$t("contents.addTag")))])]},proxy:!0}],null,!1,3002110394),model:{value:e.editingTags,callback:function(t){e.editingTags=t},expression:"editingTags"}}),e.editing?a("q-btn",{attrs:{dense:"",outline:"",rounded:"",icon:"check",size:"sm",color:"positive",loading:e.saving},on:{click:e.acceptTags}},[e._v(e._s(e.$t("general.confirm"))+"  ")]):e._e(),e.editing?a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",color:"grey"},on:{click:e.cancelTags}},[e._v(e._s(e.$t("general.cancel")))]):e._e()],1):e._e()])],1)},i=[],r=a("4db1"),o=a.n(r),s=(a("7f7f"),a("967e")),l=a.n(s),d=(a("96cf"),a("fa84")),c=a.n(d),u=a("2ef0"),p=a.n(u),m={name:"MediaItem",props:["medium","tags","reorderMode","entity_id","allowed"],data:function(){return{uploading:!1,saving:!1,editing:!1,editingTags:[],storedTags:[]}},mounted:function(){this.editingTags=p.a.clone(this.medium.media_tags),this.storedTags=p.a.clone(this.medium.media_tags)},methods:{onInput:function(){this.$refs.tagSelector.hidePopup(),this.editing=!0},acceptTags:function(){var e=this;return c()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.tagSelector.hidePopup(),e.saving=!0,e.storedTags=p.a.clone(e.editingTags),t.next=5,e.$api.post("/entity/".concat(e.entity_id,"/relation"),{called_entity_id:e.medium.id,kind:"medium",tags:e.storedTags,position:e.medium.media_position,depth:0});case 5:e.saving=!1,e.editing=!1;case 7:case"end":return t.stop()}}),t)})))()},cancelTags:function(){this.$refs.tagSelector.hidePopup(),this.editingTags=p.a.clone(this.storedTags),this.editing=!1,this.saving=!1},onUnlink:function(){var e=this;this.$q.dialog({title:this.$t("media.unlink"),ok:{label:this.$t("general.ok"),color:"primary"},cancel:{label:this.$t("general.cancel"),color:"grey",flat:!0},message:this.$t("media.unlinkConfirm")}).onOk(c()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.delete("/entities/".concat(e.entity_id,"/relations/").concat(e.medium.id,"/medium"));case 2:e.$emit("getMedia");case 3:case"end":return t.stop()}}),t)}))))},updateFile:function(e){var t=this;return c()(l.a.mark((function a(){var n;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("file",e),t.uploading=!0,a.next=5,t.$api.post("/media/".concat(t.medium.id,"/upload"),n,{"Content-Type":"multipart/form-data"});case 5:t.uploading=!1;case 6:case"end":return a.stop()}}),a)})))()},rejectedFile:function(e){var t="";for(var a in e)t+=" - "+e[a].file.name;this.$q.notify({position:"top",color:"negative",message:this.$t("media.invalidFormat"),caption:t})}},computed:{acceptedFile:function(){var e=this;if(!this.allowed||"*"===this.allowed[0]||""===this.allowed[0]||""===this.allowed||"*"===this.allowed)return"";var t=[];return p.a.each(this.allowed,(function(a){t=[].concat(o()(t),o()(p.a.get(e.$store.state.ui.config,"formats.".concat(a),[a])))})),"."+t.join(", .")}}},g=m,f=(a("82dc"),a("2877")),h=Object(f["a"])(g,n,i,!1,null,null,null);t["a"]=h.exports},"57ea":function(e,t,a){},"827a":function(e,t,a){},"82dc":function(e,t,a){"use strict";var n=a("b69d"),i=a.n(n);i.a},8928:function(e,t,a){"use strict";var n=a("d01d"),i=a.n(n);i.a},b69d:function(e,t,a){},cf8e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-form",{on:{submit:e.save}},[a("nq-page",{attrs:{title:e.getEntityTitle,"max-width":"lg"}},[e.ancestors.length>0?a("template",{slot:"before"},[a("q-breadcrumbs",[e._l(e.ancestors,(function(e){return a("q-breadcrumbs-el",{key:e.id,attrs:{label:e.title||(e.properties?e.properties.title:null)||"-",to:{name:"content",params:{entity_id:e.id}}}})})),a("q-breadcrumbs-el")],2)],1):e._e(),e.$store.state.ui.config&&e.$store.state.ui.config.langs.length>1?a("div",{staticClass:"rounded-borders shadow-1",attrs:{id:"langSelector"}},[e._l(e.$store.state.ui.config.langs,(function(t){return a("q-radio",{key:t,attrs:{size:"sm",val:t,label:e.$t(t)},model:{value:e.contentLang,callback:function(t){e.contentLang=t},expression:"contentLang"}})})),a("q-radio",{attrs:{val:"all",label:e.$t("all")},model:{value:e.contentLang,callback:function(t){e.contentLang=t},expression:"contentLang"}})],2):e._e(),a("template",{slot:"aside"},[a("h2",[e._v(e._s(e.$t("contents.publication")))]),a("q-card",[e.loading?e._e():a("q-card-section",[a("div",{staticClass:"row q-col-gutter-sm"},[e.editing?a("nq-field",{staticClass:"col-12",attrs:{dense:"",readonly:!e.editing}},[a("q-checkbox",{attrs:{label:e.$t("contents.active"),"left-label":"",color:"dark"},model:{value:e.entity.is_active,callback:function(t){e.$set(e.entity,"is_active",t)},expression:"entity.is_active"}})],1):e._e(),!e.editing&&e.entity.is_active?a("div",{staticClass:"text-center col-12 text-positive"},[e._v(e._s(e.$t("contents.active")))]):e._e(),e.editing||e.entity.is_active?e._e():a("div",{staticClass:"text-center col-12 text-warning"},[e._v(e._s(e.$t("contents.notActive")))]),a("nq-select",{staticClass:"col-12",attrs:{dense:"",label:e.$t("contents.view"),readonly:!e.editing,options:e.views},model:{value:e.entity.view,callback:function(t){e.$set(e.entity,"view",t)},expression:"entity.view"}}),e.editing?a("nq-date-time",{staticClass:"col-12",attrs:{dense:"","display-format":"dddd DD MMMM YYYY, h:mm a",label:e.$t("contents.publishedAt"),readonly:!e.editing},model:{value:e.entity.published_at,callback:function(t){e.$set(e.entity,"published_at",t)},expression:"entity.published_at"}}):e._e(),e.editing?e._e():a("nq-field",{staticClass:"col-12",attrs:{label:e.$t("contents.publishedAt"),readonly:"","stack-label":""}},[a("p",{class:{"text-warning":!e.isBefore(e.entity.published_at)}},[e._v(e._s(e._f("moment")(e.entity.published_at,"dddd DD MMMM YYYY, h:mm a"))+" "+e._s(e.isBefore(e.entity.published_at)?"S":"N")+"\n                "),a("small",[e._v("(UTC "+e._s(e._f("moment")(e.entity.published_at,"Z"))+")")])])]),a("nq-input",{staticClass:"col-12",attrs:{label:"ID",readonly:!e.isNew,"stack-label":"",rules:[e.$rules.required(),e.$rules.minLength(3),e.$rules.maxLength(16),function(e){return RegExp("^[A-Za-z0-9_-]{3,16}$").test(e)}]},model:{value:e.entity.id,callback:function(t){e.$set(e.entity,"id",t)},expression:"entity.id"}}),a("q-btn",{staticClass:"col-8 offset-2",attrs:{flat:"",size:"sm",loading:e.clearing},on:{click:e.clearCache}},[e._v(e._s(e.$t("contents.clearCache")))])],1)]),e.loading?a("q-card-section",[a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}})],1):e._e()],1),a("div",{staticClass:"flex flex-center q-mt-md"},[a("q-btn",{attrs:{size:"xs",color:"negative",flat:""},on:{click:e.onDelete}},[e._v(e._s(e.$t("general.delete")))])],1)],1),e.loading?[a("h2",[e._v(" ")]),a("q-card",[e.loading?a("q-card-section",[a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}})],1):e._e()],1)]:e._e(),e.loading?e._e():e._l(e.fieldsets,(function(t,n){return a("div",{key:n},[a("h2",[e._v(e._s(e.$t(t.label)))]),a("q-card",[a("q-card-section",[a("div",{staticClass:"row q-col-gutter-md"},e._l(t.components,(function(t,n){return a(t.component,e._b({directives:[{name:"show",rawName:"v-show",value:!t.isMultiLang||t.isMultiLang&&(t.props.lang===e.contentLang||"all"===e.contentLang),expression:"!component.isMultiLang || (component.isMultiLang && (component.props.lang === contentLang || contentLang === 'all'))"}],key:n,tag:"div",staticClass:"col-12",attrs:{label:e.$t(t.label)+" "+(t.isMultiLang?"("+t.props.lang+")":""),readonly:!e.editing,"data-multilingual":t.isMultiLang,"data-lang":t.props?t.props.lang:"",lang:t.props?t.props.lang:null,entity:e.entity,value:e.getValue(t),rules:e.getRules(t)},on:{input:function(a){return e.setValue(t,a)}}},"div",t.props,!1))})),1)])],1)],1)})),a("div",{staticClass:"fixed-top-right text-white action-buttons"},[e.editing||e.loading||!e.isEditable?e._e():a("q-btn",{staticClass:"bg-accent no-border-radius",attrs:{push:"",size:"lg",icon:"edit",label:e.$t("general.edit"),type:"a",disable:e.saving},on:{click:function(t){e.editing=!0}}}),e.editing?a("q-btn",{staticClass:"no-border-radius q-mr-sm",attrs:{type:"a",flat:"",size:"md",label:e.$t("general.cancel")},on:{click:e.cancel}}):e._e(),e.editing?a("q-btn",{staticClass:"bg-positive no-border-radius",attrs:{push:"",size:"lg",icon:"cloud_upload",disable:e.loading||e.saving,loading:e.saving,type:"submit",label:e.$t("general.save")}}):e._e()],1)],2)],1)},i=[],r=(a("a481"),a("7514"),a("28a5"),a("f559"),a("967e")),o=a.n(r),s=(a("96cf"),a("fa84")),l=a.n(s),d=a("2ef0"),c=a.n(d),u=a("c1df"),p=a.n(u),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("div",{staticClass:"flex column items-end"},[a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QBtn"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),e.readonly?e._e():a("q-banner",{staticClass:"bg-grey-2 text-center"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?a("div",[a("div",{staticClass:"q-mb-md flex justify-end"},[e.models&&e.models.length>1?a("q-btn-dropdown",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")}},[a("q-list",e._l(e.models,(function(t){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t,attrs:{clickable:""},on:{click:function(a){return e.add(t)}}},[a("q-item-section",[a("q-item-label",[e._v(e._s(e.$t(e.$store.getters.nameOf(t))))])],1)],1)})),1)],1):e._e(),e.models&&1===e.models.length?a("q-btn",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")+" "+e.$t(e.$store.getters.nameOf(e.models[0]))},on:{click:function(t){return e.add(e.models[0])}}}):e._e()],1),!e.children||e.children&&0===e.children.length?a("q-banner",{staticClass:"bg-grey-2 text-center"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),a("q-list",{attrs:{bordered:""}},[a("draggable",e._b({attrs:{disabled:!e.reorderMode},model:{value:e.children,callback:function(t){e.children=t},expression:"children"}},"draggable",e.getDragOptions(),!1),e._l(e.children,(function(t){return a("child-item",{key:t.id,attrs:{child:t,entity_id:e.entity.id,tags:e.tags,reorderMode:e.reorderMode}})})),1)],1),this.lastPage>1?a("div",{staticClass:"flex flex-center q-my-md"},[a("q-pagination",{attrs:{max:e.lastPage,"boundary-links":!0,disabled:this.loading},on:{input:e.changePage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e(),e.canReorder&&!e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",icon:"swap_vert",label:e.$t("contents.reorder")},on:{click:e.startReorder}}):e._e(),e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{loading:e.reordering,disable:e.reordering,flat:"",icon:"done",label:e.$t("general.confirm"),color:"positive"},on:{click:e.reorder}}):e._e(),e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",label:e.$t("general.cancel"),color:"grey"},on:{click:e.cancelReorder}}):e._e()],1):e._e()],1)},g=[],f=(a("e956"),a("310e")),h=a.n(f),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-item",{staticClass:"child-item",class:{"cursor-drag":e.reorderMode}},[a("q-item-section",{attrs:{avatar:"",top:""}},[a("div",{staticClass:"flex items-center item-avatar"},[e.reorderMode?a("q-icon",{attrs:{name:"drag_indicator",size:"md",color:"grey"}}):e._e(),a("q-avatar",{class:{"cursor-drag":e.reorderMode,disabled:!e.child.is_active},attrs:{icon:e.$store.getters.iconOf(e.child.model),color:"grey","text-color":"white"}})],1)]),a("q-item-section",[a("q-item-label",[a("h3",[e.reorderMode?a("span",[e._v(e._s(e.child.title||e.child.properties.title||e.$t(e.$store.getters.nameOf(e.child.model))))]):e._e(),e.reorderMode?e._e():a("router-link",{class:{"text-strike":!e.child.is_active},attrs:{to:{name:"content",params:{entity_id:e.child.id}}}},[e._v(e._s(e.child.title||e.child.properties.title||e.$t(e.$store.getters.nameOf(e.child.model))))])],1)]),a("q-item-label",{attrs:{caption:"",lines:"1"}},[e._v(e._s(e.$t(e.$store.getters.nameOf(e.child.model)))+" | "),a("span",{class:{"text-warning":!e.isBefore(e.child.published_at)}},[e._v(e._s(e._f("moment")(e.child.published_at,"dddd DD MMMM YYYY, h:mm a")))])])],1),e.tags&&e.tags.length>0?a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"row items-center tag-select"},[a("q-select",{ref:"tagSelector",attrs:{options:e.tags,multiple:"","use-chips":"",dense:"","options-dense":"",borderless:""},on:{input:e.onInput},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"local_offer",size:"xs",color:"info"}}),a("small",[e._v(e._s(e.$t("contents.addTag")))])]},proxy:!0}],null,!1,3002110394),model:{value:e.editingTags,callback:function(t){e.editingTags=t},expression:"editingTags"}}),e.editing?a("q-btn",{attrs:{dense:"",outline:"",rounded:"",icon:"check",size:"sm",color:"positive",loading:e.saving},on:{click:e.acceptTags}},[e._v(e._s(e.$t("general.confirm"))+"  ")]):e._e(),e.editing?a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",color:"grey"},on:{click:e.cancelTags}},[e._v(e._s(e.$t("general.cancel")))]):e._e()],1)]):e._e()],1)},v=[],_={name:"ChildItem",props:["child","tags","reorderMode","entity_id"],data:function(){return{saving:!1,editing:!1,editingTags:[],storedTags:[]}},mounted:function(){this.editingTags=c.a.clone(this.child.child_relation_tags),this.storedTags=c.a.clone(this.child.child_relation_tags)},methods:{onInput:function(){this.$refs.tagSelector.hidePopup(),this.editing=!0},acceptTags:function(){var e=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.tagSelector.hidePopup(),e.saving=!0,e.storedTags=c.a.clone(e.editingTags),t.next=5,e.$api.post("/entities/".concat(e.child.id,"/relations/").concat(e.entity_id,"/ancestor"),{tags:e.storedTags,position:e.child.child_relation_position,depth:1});case 5:e.saving=!1,e.editing=!1;case 7:case"end":return t.stop()}}),t)})))()},cancelTags:function(){this.$refs.tagSelector.hidePopup(),this.editingTags=c.a.clone(this.storedTags),this.editing=!1,this.saving=!1},isBefore:function(e,t){return t||(t=p()()),p()(e).isBefore(t)}}},y=_,q=a("2877"),w=Object(q["a"])(y,b,v,!1,null,null,null),k=w.exports,$={components:{ChildItem:k,draggable:h.a},name:"Children",props:{entity:{},readonly:{type:Boolean,default:!0},ofModel:{type:Array,default:function(){return[]}},models:{type:Array,default:function(){return[]}},tags:{type:Array,default:function(){return[]}},orderBy:{type:String,default:"relation_children.position"}},data:function(){return{loading:!0,children:[],storedChildren:[],reorderMode:!1,reordering:!1,currentPage:1,perPage:1,lastPage:1,total:1,to:1,from:1}},mounted:function(){this.getChildren()},methods:{changePage:function(e){this.currentPage=e,this.getChildren()},getChildren:function(){var e=this;return l()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.get("/entities?children-of=".concat(e.entity.id,"&select=contents.title,properties,published_at,unpublished_at,model,id&only-published=false&order-by=").concat(e.orderBy,"&page=").concat(e.currentPage));case 3:a=t.sent,e.loading=!1,a.success?(e.children=a.data.data,e.currentPage=a.data.current_page,e.perPage=a.data.per_page,e.lastPage=a.data.last_page,e.total=a.data.total,e.to=a.data.to,e.from=a.data.from):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 6:case"end":return t.stop()}}),t)})))()},add:function(e){this.$router.push({name:"content",params:{entity_id:"new",model:e,conector:"in",parent_entity_id:this.entity.id}})},getDragOptions:function(){return{animation:500,sort:!0}},startReorder:function(){this.storedChildren=c.a.cloneDeep(this.children),this.reorderMode=!0},cancelReorder:function(){this.children=c.a.cloneDeep(this.storedChildren),this.reorderMode=!1},reorder:function(){var e=this;return l()(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reordering=!0,a=c.a.flatMap(e.children,(function(e){return e.child.relation_id})),t.next=4,e.$api.patch("/entities/".concat(e.entity.id,"/relations/reorder"),{relation_ids:a});case 4:n=t.sent,e.reordering=!1,n.success?e.reorderMode=!1:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 7:case"end":return t.stop()}}),t)})))()}},computed:{canReorder:function(){return"relation_children.position"===this.orderBy}}},x=$,C=(a("8928"),Object(q["a"])(x,m,g,!1,null,null,null)),M=C.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("div",{staticClass:"row q-col-gutter-md"},[a("q-skeleton",{staticClass:"col-3 offset-9 q-mt-md",attrs:{type:"QBtn"}}),e._l(3,(function(e){return a("div",{key:e,staticClass:"col-xs-12 col-sm-6 col-md-4"},[a("q-card",{staticClass:"full-width",attrs:{flat:"",bordered:""}},[a("q-skeleton",{attrs:{height:"200px",square:"",animation:"fade"}}),a("q-card-section",[a("q-skeleton",{staticClass:"text-subtitle2",attrs:{type:"text",animation:"fade"}}),a("q-skeleton",{staticClass:"text-subtitle2",attrs:{type:"text",width:"50%",animation:"fade"}})],1)],1)],1)}))],2):e._e(),e.readonly?e._e():a("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?a("div",[a("div",{staticClass:"q-mb-md flex justify-end"},[e.allowed&&e.allowed.length>0?a("q-btn",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")},on:{click:function(t){e.addMediaDialog=!0}}}):e._e()],1),!e.media||e.media&&0===e.media.length?a("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),a("draggable",e._b({staticClass:"row draggable-container q-col-gutter-md",attrs:{disabled:!e.reorderMode},model:{value:e.media,callback:function(t){e.media=t},expression:"media"}},"draggable",e.getDragOptions(),!1),e._l(e.media,(function(t){return a("div",{key:t.id,staticClass:"col-xs-12 col-sm-6 col-md-4"},[a("medium-item",{staticClass:"full-width full-height",attrs:{medium:t,entity_id:e.entity.id,tags:e.tags,allowed:e.allowed,reorderMode:e.reorderMode},on:{getMedia:e.getMedia}})],1)})),0),e.canReorder&&!e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",icon:"swap_vert",label:e.$t("contents.reorder")},on:{click:e.startReorder}}):e._e(),e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{loading:e.reordering,disable:e.reordering,flat:"",icon:"done",label:e.$t("general.confirm"),color:"positive"},on:{click:e.reorder}}):e._e(),e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",label:e.$t("general.cancel"),color:"grey"},on:{click:e.cancelReorder}}):e._e()],1):e._e(),a("q-dialog",{attrs:{persistent:""},on:{hide:e.onMediaDialogHide},model:{value:e.addMediaDialog,callback:function(t){e.addMediaDialog=t},expression:"addMediaDialog"}},[a("q-card",{staticStyle:{width:"90vw"}},[a("q-card-section",{staticClass:"q-pb-none"},[a("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"info"},model:{value:e.addMediaTab,callback:function(t){e.addMediaTab=t},expression:"addMediaTab"}},[a("q-tab",{attrs:{name:"upload",label:e.$t("media.upload")}}),a("q-tab",{attrs:{name:"library",label:e.$t("media.library")}})],1)],1),a("q-separator"),"upload"===e.addMediaTab?a("q-card-section",{staticClass:"scroll",staticStyle:{height:"50vh"}},[a("q-file",{ref:"filePicker",staticClass:"full-width media-library-file-picker",class:{"with-files":this.uploadProgress.length>0},attrs:{value:e.uploadProgress,label:e.$t("media.select"),outlined:"",multiple:"",accept:e.acceptedFiles},on:{input:e.updateFiles,rejected:e.rejectedFiles},scopedSlots:e._u([{key:"file",fn:function(){},proxy:!0}],null,!1,3076132943)}),e.uploadProgress.length>0?a("q-list",{staticClass:"rounded-borders media-library-file-list q-mt-md"},e._l(e.uploadProgress,(function(t,n){return a("q-item",{key:n,staticClass:"q-pa-none q-mb-md"},[a("q-item-section",[a("nq-input",{staticClass:"full-width q-mb-xs",attrs:{diabled:t.uploading||t.created,readonly:t.uploading||t.created,size:"sm",dense:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("small",[e._v(e._s(e._f("numeral")(t.size,"0a")))])]},proxy:!0}],null,!0),model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"fileToUpload.name"}}),a("q-item-label",[a("q-linear-progress",{staticClass:"full-width",attrs:{value:t.percent,color:t.color,indeterminate:t.creating}})],1)],1),a("q-item-section",{attrs:{side:""}},[e.uploading?e._e():a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"clear",size:"sm",round:"",flat:"",color:"grey"},on:{click:function(t){return e.removeFile(n)}}}),e.uploading?a("q-circular-progress",{attrs:{"track-color":"grey-3",value:t.uploaded?1:0,color:t.uploaded?"positive":"primary",indeterminate:t.uploading||t.creating,size:"sm"}}):e._e()],1)],1)})),1):e._e()],1):e._e(),"upload"===e.addMediaTab?a("q-separator"):e._e(),"upload"===e.addMediaTab?a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{color:"grey",flat:"",label:e.$t("general.cancel")}}),a("q-btn",{attrs:{color:"primary",icon:"cloud_upload",label:e.$t("media.upload"),disable:!e.canUpload,loading:e.uploading},on:{click:e.upload}})],1):e._e(),"library"===e.addMediaTab?a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("TBD")])]):e._e()],1)],1)],1)},R=[],T=a("4db1"),P=a.n(T),D=(a("ac6a"),a("cadf"),a("06db"),a("c5f6"),a("7f7f"),a("55f0")),E={components:{MediumItem:D["a"],draggable:h.a},name:"Media",props:{entity:{},readonly:{type:Boolean,default:!0},allowed:{type:Array,default:function(){return[]}},tags:{type:Array,default:function(){return[]}}},data:function(){return{loading:!0,media:[],storedMedia:[],reorderMode:!1,reordering:!1,addMediaDialog:!1,addMediaTab:"upload",uploadProgress:[],uploading:!1}},mounted:function(){this.getMedia()},methods:{getMedia:function(){var e=this;return l()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,"new"===e.entity.id){t.next=7;break}return t.next=4,e.$api.get("/entities?media-of=".concat(e.entity.id,"&select=contents.title,properties,model,id,relation_media.relation_id&only-published=false&order-by=relation_media.position&per-page=100"));case 4:a=t.sent,e.loading=!1,a.success?e.media=a.data.data:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},add:function(e){this.$router.push({name:"content",params:{entity_id:"new",model:e,conector:"in",parent_entity_id:this.entity.id}})},getDragOptions:function(){return{animation:500,sort:!0}},startReorder:function(){this.storedMedia=c.a.cloneDeep(this.media),this.reorderMode=!0},cancelReorder:function(){this.media=c.a.cloneDeep(this.storedMedia),this.reorderMode=!1},reorder:function(){var e=this;return l()(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reordering=!0,a=c.a.flatMap(e.media,(function(e){return e.relation_id})),t.next=4,e.$api.patch("/entities/relations/reorder",{relation_ids:a});case 4:n=t.sent,e.reordering=!1,n.success?e.reorderMode=!1:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 7:case"end":return t.stop()}}),t)})))()},updateFiles:function(e){var t=this,a=function(a){if(!c.a.find(t.uploadProgress,(function(t){return t.file.name===e[a].name&&t.file.lastModified===e[a].lastModified}))){var n=e[a].name,i=n.lastIndexOf(".");i>-1&&(n=n.substr("0",i)),n=n.replace("-"," "),n=n.replace("_"," "),t.uploadProgress.push({createError:!1,uploadError:!1,size:e[a].size,name:n,percent:0,indeterminate:!1,creating:!1,created:!1,uploading:!1,uploaded:!1,tags:[],file:e[a],color:"primary"})}};for(var n in e)a(n);this.$refs.filePicker.blur()},removeFile:function(e){this.uploadProgress.splice(e,1)},upload:function(){var e=this;return l()(o.a.mark((function t(){var a,n,i,r,s,l,d;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.uploading=!0,a=!0,t.t0=o.a.keys(e.uploadProgress);case 3:if((t.t1=t.t0()).done){t.next=44;break}if(n=t.t1.value,i={},e.uploadProgress[n].created){t.next=17;break}for(s in e.uploadProgress[n].creating=!0,r={},e.$store.state.ui.config.langs)r[e.$store.state.ui.config.langs[s]]=e.uploadProgress[n].name;return t.next=12,e.$api.post("/entities",{model:"medium",contents:[{lang:"en",field:"title",text:e.uploadProgress[n].name}],relate_to:{caller_entity_id:e.entity.id,kind:"medium",position:Number(e.media.length)+Number(n),tags:e.uploadProgress[n].tags}});case 12:i=t.sent,e.uploadProgress[n].creating=!1,e.uploadProgress[n].id=i.data.id,t.next=18;break;case 17:i.success=!0;case 18:if(!i.success){t.next=38;break}if(e.uploadProgress[n].createError=!1,e.uploadProgress[n].created=!0,l={},e.uploadProgress[n].uploaded){t.next=33;break}return e.uploadProgress[n].uploading=!0,e.uploadProgress[n].color="primary",e.uploadProgress[n].percent=0,d=new FormData,d.append("file",e.uploadProgress[n].file),t.next=30,e.$api.post("/media/".concat(e.uploadProgress[n].id,"/upload"),d,{"Content-Type":"multipart/form-data"});case 30:l=t.sent,t.next=34;break;case 33:l.success=!0;case 34:e.uploadProgress[n].uploading=!1,l.success?(e.uploadProgress[n].uploadError=!1,e.uploadProgress[n].uploaded=!0,e.uploadProgress[n].percent=1,e.uploadProgress[n].color="positive"):(a=!1,e.uploadProgress[n].uploadError=!0,e.uploadProgress[n].percent=1,e.uploadProgress[n].color="negative"),t.next=42;break;case 38:a=!1,e.uploadProgress[n].createError=!0,e.uploadProgress[n].percent=0,e.uploadProgress[n].color="negative";case 42:t.next=3;break;case 44:a&&(e.getMedia(),e.onMediaDialogHide(),e.addMediaDialog=!1),e.uploading=!1;case 46:case"end":return t.stop()}}),t)})))()},onMediaDialogHide:function(){this.uploadProgress=[]},rejectedFiles:function(e){var t="";for(var a in e)t+=" - "+e[a].file.name;this.$q.notify({position:"top",color:"negative",message:this.$t("media.invalidFormat"),caption:t})}},computed:{canReorder:function(){return this.media.length>1},canUpload:function(){return this.uploadProgress.length>0},acceptedFiles:function(){var e=this;if(!this.allowed||"*"===this.allowed[0]||""===this.allowed[0]||""===this.allowed||"*"===this.allowed)return"";var t=[];return c.a.each(this.allowed,(function(a){t=[].concat(P()(t),P()(c.a.get(e.$store.state.ui.config,"formats.".concat(a),[a])))})),"."+t.join(", .")}}},I=E,O=(a("4c65"),Object(q["a"])(I,S,R,!1,null,null,null)),z=O.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("div",{staticClass:"flex column items-end"},[a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QBtn"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),e.readonly?e._e():a("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?a("div",[a("div",{staticClass:"q-mb-md flex justify-end"},[a("q-btn",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")+" / "+e.$t("general.edit")},on:{click:function(t){e.addRelationsDialog=!0}}})],1),!e.relations||e.relations&&0===e.relations.length?a("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),a("q-list",{attrs:{bordered:""}},[a("draggable",e._b({attrs:{disabled:!e.reorderMode},model:{value:e.relations,callback:function(t){e.relations=t},expression:"relations"}},"draggable",e.getDragOptions(),!1),e._l(e.relations,(function(t){return a("relation-item",{key:t.relation_id,attrs:{relation:t,entity_id:e.entity.id,tags:e.tags,reorderMode:e.reorderMode},on:{getRelations:e.getRelations}})})),1)],1),e.canReorder&&!e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",icon:"swap_vert",label:e.$t("contents.reorder")},on:{click:e.startReorder}}):e._e(),e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{loading:e.reordering,disable:e.reordering,flat:"",icon:"done",label:e.$t("general.confirm"),color:"positive"},on:{click:e.reorder}}):e._e(),e.reorderMode?a("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",label:e.$t("general.cancel"),color:"grey"},on:{click:e.cancelReorder}}):e._e()],1):e._e(),a("q-dialog",{attrs:{persistent:""},on:{"before-hide":e.onRelationsDialogHide,"before-show":e.onRelationsDialogShow},model:{value:e.addRelationsDialog,callback:function(t){e.addRelationsDialog=t},expression:"addRelationsDialog"}},[a("q-card",{staticStyle:{width:"90vw"}},[a("q-card-section",[e.loadingRelationables?a("div",{staticClass:"flex column items-end"},[a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),!e.loadingRelationables&&e.relationables.length>0?a("q-list",{attrs:{bordered:""}},e._l(e.relationables,(function(t){return a("q-item",{key:t.id,staticClass:"child-item",attrs:{clickable:""},on:{click:function(a){return e.addRelationable(t)}}},[a("q-item-section",{attrs:{avatar:"",top:""}},[a("div",{staticClass:"flex items-center item-avatar"},[e._l(t.descendant_relation_depth,(function(t){return a("span",{key:t},[e._v("   ")])})),a("q-avatar",{attrs:{icon:e.$store.getters.iconOf(t.model),color:"grey","text-color":"white",size:"md"}})],2)]),a("q-item-section",[a("q-item-label",[a("h3",[e._v("\n                  "+e._s(t.title||e.$t(e.$store.getters.nameOf(t.model)))+"\n                ")])])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"check_circle",color:t.isSelected?"positive":"grey-4"}})],1)],1)})),1):e._e()],1),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{color:"grey",flat:"",label:e.$t("general.cancel")}}),a("q-btn",{attrs:{color:"primary",label:e.$t("general.confirm"),loading:e.loading},on:{click:e.save}})],1)],1)],1)],1)},j=[],F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-item",{staticClass:"child-item",class:{"cursor-drag":e.reorderMode}},[a("q-item-section",{attrs:{avatar:"",top:""}},[a("div",{staticClass:"flex items-center item-avatar"},[e.reorderMode?a("q-icon",{attrs:{name:"drag_indicator",size:"md",color:"grey"}}):e._e(),a("q-avatar",{attrs:{icon:e.$store.getters.iconOf(e.relation.model),color:"grey","text-color":"white",size:"md"}})],1)]),a("q-item-section",[a("q-item-label",[a("h3",[e.reorderMode?a("span",[e._v(e._s(e.relation.title||e.$t(e.$store.getters.nameOf(e.relation.model))))]):e._e(),e._v("\n        "+e._s(e.relation.title||e.$t(e.$store.getters.nameOf(e.relation.model)))+"\n      ")])])],1),e.tags&&e.tags.length>0?a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"row items-center"},[a("q-select",{ref:"tagSelector",attrs:{options:e.tags,multiple:"","use-chips":"","menu-anchor":"top left","menu-self":"bottom middle",dense:"",borderless:"","hide-dropdown-icon":""},on:{input:e.onInput},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"local_offer",size:"sm",color:"info"}})]},proxy:!0}],null,!1,1619695918),model:{value:e.editingTags,callback:function(t){e.editingTags=t},expression:"editingTags"}}),e.editing?a("q-btn",{attrs:{dense:"",outline:"",rounded:"",icon:"check",size:"sm",color:"positive",loading:e.saving},on:{click:e.acceptTags}},[e._v(e._s(e.$t("general.confirm"))+"  ")]):e._e(),e.editing?a("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",color:"grey"},on:{click:e.cancelTags}},[e._v(e._s(e.$t("general.cancel")))]):e._e()],1)]):e._e(),e.tags&&e.tags.length>0?a("q-item-section",{attrs:{side:""}},[a("q-select",{attrs:{options:[{value:"unlink",label:e.$t("contents.unlink")}],"menu-anchor":"top left","menu-self":"bottom middle","display-value":"",dense:"",borderless:"","hide-dropdown-icon":""},on:{input:e.onSubmenu},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"more_vert",size:"sm",color:"grey-7"}})]},proxy:!0}],null,!1,2007916550),model:{value:e.secondaryMenu,callback:function(t){e.secondaryMenu=t},expression:"secondaryMenu"}})],1):e._e()],1)},L=[],A={name:"RelationItem",props:["relation","tags","reorderMode","entity_id"],data:function(){return{saving:!1,editing:!1,editingTags:[],storedTags:[],secondaryMenu:null}},mounted:function(){this.editingTags=c.a.clone(this.relation.relation_tags),this.storedTags=c.a.clone(this.relation.relation_tags)},methods:{onInput:function(){this.$refs.tagSelector.hidePopup(),this.editing=!0},acceptTags:function(){var e=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.tagSelector.hidePopup(),e.saving=!0,e.storedTags=c.a.clone(e.editingTags),t.next=5,e.$api.post("/entity/".concat(e.entity_id,"/relation"),{called_entity_id:e.relation.id,kind:e.relation.relation_kind,tags:e.storedTags,position:e.relation.relation_position,depth:1});case 5:e.saving=!1,e.editing=!1;case 7:case"end":return t.stop()}}),t)})))()},cancelTags:function(){this.$refs.tagSelector.hidePopup(),this.editingTags=c.a.clone(this.storedTags),this.editing=!1,this.saving=!1},onSubmenu:function(e){var t=this;return l()(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=e.value,a.next="unlink"===a.t0?3:7;break;case 3:return a.next=5,t.$api.delete("/entities/".concat(t.entity_id,"/relation/").concat(t.relation.id,"/").concat(t.relation.relation_kind));case 5:return t.$emit("getRelations"),a.abrupt("break",7);case 7:case"end":return a.stop()}}),a)})))()}}},Q=A,N=Object(q["a"])(Q,F,L,!1,null,null,null),H=N.exports,V={components:{RelationItem:H,draggable:h.a},name:"Relations",props:{entity:{},readonly:{type:Boolean,default:!0},kind:{type:String,default:""},from_entity_id:{type:String,default:""},list:{type:String,default:"children"},tags:{type:Array,default:function(){return[]}},models:{type:Array,default:function(){return[]}}},data:function(){return{loading:!0,relations:[],relationsIds:{},storedRelations:[],reorderMode:!1,reordering:!1,addRelationsDialog:!1,uploadProgress:[],uploading:!1,loadingRelationables:!1,relationables:[]}},mounted:function(){this.getRelations()},methods:{getRelations:function(){var e=this;return l()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.get("/entities?related-by=".concat(e.entity.id,":").concat(e.kind,"&select=id,model,contents.title&only-published=false&order-by=relation.position&per-page=100"));case 3:a=t.sent,e.loading=!1,a.success?(e.relations=a.data.data,e.relationsIds={},e.relations.forEach((function(t){e.relationsIds[t.id]=!0}))):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 6:case"end":return t.stop()}}),t)})))()},getDragOptions:function(){return{animation:500,sort:!0}},startReorder:function(){this.storedRelations=c.a.cloneDeep(this.relations),this.reorderMode=!0},cancelReorder:function(){this.relations=c.a.cloneDeep(this.storedRelations),this.reorderMode=!1},reorder:function(){var e=this;return l()(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reordering=!0,a=c.a.flatMap(e.relations,(function(e){return e.relation_id})),t.next=4,e.$api.patch("/entities/relations/reorder",{relation_ids:a});case 4:n=t.sent,e.reordering=!1,n.success?e.reorderMode=!1:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 7:case"end":return t.stop()}}),t)})))()},onRelationsDialogHide:function(){this.getRelations()},onRelationsDialogShow:function(){var e=this;return l()(o.a.mark((function t(){var a,n,i,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRelationables=!0,a="descendants"===e.list?"descendant-of":"child-of",t.next=4,e.$api.get("/entities?".concat(a,"=").concat(e.from_entity_id,"&select=id,parent_entity_id,model,contents.title&only-published=false&order-by=depth,position&per-page=100"));case 4:if(n=t.sent,n.success)if("descendants"===e.list){for(i={},r=0;r<n.data.data.length;r++)n.data.data[r].isSelected=!!e.relationsIds[n.data.data[r].id],void 0===i[n.data.data[r].parent_entity_id]&&(i[n.data.data[r].parent_entity_id]=[]),i[n.data.data[r].parent_entity_id].push(n.data.data[r]);e.relationables=e.treeSort(i,e.from_entity_id,[])}else e.relationables=n.data.data;e.loadingRelationables=!1;case 7:case"end":return t.stop()}}),t)})))()},treeSort:function(e,t,a){if(void 0!==e[t]){for(var n=e[t].sort((function(e,t){return e.descendant_relation_position>t.descendant_relation_position})),i=0;i<n.length;i++)a.push(n[i]),this.treeSort(e,n[i].id,a);return a}},addRelationable:function(e){e.isSelected=!e.isSelected},save:function(){var e=this;return l()(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.loading=!0,a=[],n=0;n<e.relationables.length;n++)!e.relationsIds[e.relationables[n].id]&&e.relationables[n].isSelected?a.push({method:"POST",url:"/entity/".concat(e.entity.id,"/relation"),data:{called_entity_id:e.relationables[n].id,kind:e.kind,tags:[],position:e.relations.length+1+n,depth:1}}):e.relationsIds[e.relationables[n].id]&&!e.relationables[n].isSelected&&a.push({method:"DELETE",url:"/entity/".concat(e.entity.id,"/relation/").concat(e.relationables[n].id,"/").concat(e.kind)});return t.next=5,e.$api.bulkCall(a,!0);case 5:return t.next=7,e.getRelations();case 7:e.loading=!1,e.addRelationsDialog=!1;case 9:case"end":return t.stop()}}),t)})))()}},computed:{canReorder:function(){return!0}}},Y=V,U=(a("d688"),Object(q["a"])(Y,B,j,!1,null,null,null)),W=U.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("div",{staticClass:"flex column items-end"},[a("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QBtn"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),e.readonly?e._e():a("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?a("div",[!e.relations||e.relations&&0===e.relations.length?a("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),a("q-list",{attrs:{bordered:""}},[a("draggable",e._b({attrs:{disabled:!e.reorderMode},model:{value:e.relations,callback:function(t){e.relations=t},expression:"relations"}},"draggable",e.getDragOptions(),!1),e._l(e.relations,(function(t){return a("relation-item",{key:t.relation_id,attrs:{relation:t,entity_id:e.entity.id,tags:e.tags},on:{getRelations:e.getRelations}})})),1)],1)],1):e._e(),a("q-dialog",{attrs:{persistent:""},on:{"before-hide":e.onRelationsDialogHide,"before-show":e.onRelationsDialogShow},model:{value:e.addRelationsDialog,callback:function(t){e.addRelationsDialog=t},expression:"addRelationsDialog"}},[a("q-card",{staticStyle:{width:"90vw"}},[a("q-card-section",[e.loadingRelationables?a("div",{staticClass:"flex column items-end"},[a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),a("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),!e.loadingRelationables&&e.relationables.length>0?a("q-list",{attrs:{bordered:""}},e._l(e.relationables,(function(t){return a("q-item",{key:t.id,staticClass:"child-item",attrs:{clickable:""},on:{click:function(a){return e.addRelationable(t)}}},[a("q-item-section",{attrs:{avatar:"",top:""}},[a("div",{staticClass:"flex items-center item-avatar"},[e._l(t.descendant_relation_depth,(function(t){return a("span",{key:t},[e._v("   ")])})),a("q-avatar",{attrs:{icon:e.$store.getters.iconOf(t.model),color:"grey","text-color":"white",size:"md"}})],2)]),a("q-item-section",[a("q-item-label",[a("h3",[e._v("\n                  "+e._s(t.title||e.$t(e.$store.getters.nameOf(t.model)))+"\n                ")])])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"check_circle",color:t.isSelected?"positive":"grey-4"}})],1)],1)})),1):e._e()],1),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{color:"grey",flat:"",label:e.$t("general.cancel")}}),a("q-btn",{attrs:{color:"primary",label:e.$t("general.confirm"),loading:e.loading},on:{click:e.save}})],1)],1)],1)],1)},Z=[],G={components:{RelationItem:H,draggable:h.a},name:"RelationsReceived",props:{entity:{},readonly:{type:Boolean,default:!0},kind:{type:String,default:""},from_entity_id:{type:String,default:""},list:{type:String,default:"children"},tags:{type:Array,default:function(){return[]}},models:{type:Array,default:function(){return[]}}},data:function(){return{loading:!0,relations:[],relationsIds:{},storedRelations:[],reorderMode:!1,reordering:!1,addRelationsDialog:!1,uploadProgress:[],uploading:!1,loadingRelationables:!1,relationables:[]}},mounted:function(){this.getRelations()},methods:{getRelations:function(){var e=this;return l()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.get("/entities?relating=".concat(e.entity.id,":").concat(e.kind,"&select=id,model,contents.title&only-published=false&order-by=relation.position&per-page=100"));case 3:a=t.sent,e.loading=!1,a.success?(e.relations=a.data.data,e.relationsIds={},e.relations.forEach((function(t){e.relationsIds[t.id]=!0}))):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 6:case"end":return t.stop()}}),t)})))()},getDragOptions:function(){return{animation:500,sort:!0}},onRelationsDialogHide:function(){this.getRelations()},onRelationsDialogShow:function(){var e=this;return l()(o.a.mark((function t(){var a,n,i,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRelationables=!0,a="descendants"===e.list?"descendant-of":"child-of",t.next=4,e.$api.get("/entities?".concat(a,"=").concat(e.from_entity_id,"&select=id,parent_entity_id,model,contents.title&only-published=false&order-by=depth,position&per-page=100"));case 4:if(n=t.sent,n.success)if("descendants"===e.list){for(i={},r=0;r<n.data.data.length;r++)n.data.data[r].isSelected=!!e.relationsIds[n.data.data[r].id],void 0===i[n.data.data[r].parent_entity_id]&&(i[n.data.data[r].parent_entity_id]=[]),i[n.data.data[r].parent_entity_id].push(n.data.data[r]);e.relationables=e.treeSort(i,e.from_entity_id,[])}else e.relationables=n.data.data;e.loadingRelationables=!1;case 7:case"end":return t.stop()}}),t)})))()},treeSort:function(e,t,a){if(void 0!==e[t]){for(var n=e[t].sort((function(e,t){return e.descendant_relation_position>t.descendant_relation_position})),i=0;i<n.length;i++)a.push(n[i]),this.treeSort(e,n[i].id,a);return a}},addRelationable:function(e){e.isSelected=!e.isSelected},save:function(){var e=this;return l()(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.loading=!0,a=[],n=0;n<e.relationables.length;n++)!e.relationsIds[e.relationables[n].id]&&e.relationables[n].isSelected?a.push({method:"POST",url:"/entity/".concat(e.entity.id,"/relation"),data:{called_entity_id:e.relationables[n].id,kind:e.kind,tags:[],position:e.relations.length+1+n,depth:1}}):e.relationsIds[e.relationables[n].id]&&!e.relationables[n].isSelected&&a.push({method:"DELETE",url:"/entity/".concat(e.entity.id,"/relation/").concat(e.relationables[n].id,"/").concat(e.kind)});return t.next=5,e.$api.bulkCall(a,!0);case 5:return t.next=7,e.getRelations();case 7:e.loading=!1,e.addRelationsDialog=!1;case 9:case"end":return t.stop()}}),t)})))()}},computed:{canReorder:function(){return!0}}},K=G,X=(a("d4c1"),Object(q["a"])(K,J,Z,!1,null,null,null)),ee=X.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nq-field",{staticClass:"html-editor",attrs:{label:e.label,readonly:e.readonly,"stack-label":""}},[a("div",{staticClass:"full-width"},[e.editingSource?e._e():a("editor-menu-bar",{staticStyle:{position:"sticky",top:"64px","z-index":"100"},attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.commands,i=t.isActive,r=t.getMarkAttrs;return[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.readonly,expression:"!readonly"}],staticClass:"editor-menu-bar"},e._l(e.toolbar,(function(t,o){return a("q-btn-group",{key:o,staticClass:"q-mr-sm q-mb-sm bg-white"},e._l(t,(function(t,o){return a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showCommand||i[t.showCommand](),expression:"action.showCommand ? isActive[action.showCommand]() : true"}],key:o,attrs:{size:"sm",flat:"",round:"",color:t.color?t.color:i[t.activeCommand||t.command](t.dontSendParamsToActiveCommand?{}:t.params)?"info":"dark",icon:t.icon,label:t.label},on:{click:function(a){t.method?e.methodBridge(t.method,n[t.command],r(t.command)):t.command&&n[t.command](t.params)}}})})),1)})),1)]}}],null,!1,826263943)}),!e.editingSource||e.readonly?a("div",{staticClass:"editor-content-container"},[a("editor-content",{staticClass:"editor-content",attrs:{editor:e.editor}})],1):e._e(),e.readonly?e._e():a("div",[e.editingSource?a("q-input",{staticClass:"full-width q-mt-sm",attrs:{type:"textarea"},model:{value:e.sourceCode,callback:function(t){e.sourceCode=t},expression:"sourceCode"}}):e._e(),a("q-btn",{staticClass:"q-my-xs",attrs:{flat:!e.editingSource,outline:e.editingSource,size:"sm",icon:e.editingSource?"close":""},on:{click:function(t){e.editingSource=!e.editingSource}}},[e._v("Edit source")])],1)],1)])},ae=[],ne=a("cd42"),ie=a("f23d"),re={name:"HtmlEdior",components:{EditorContent:ne["b"],EditorMenuBar:ne["c"]},mounted:function(){var e=this;this.editor=new ne["a"]({content:this.value,editable:!this.readonly,extensions:[new ie["g"]({levels:[1,2,3,4,5,6]}),new ie["b"],new ie["i"],new ie["m"],new ie["r"],new ie["e"],new ie["d"],new ie["c"],new ie["l"],new ie["k"],new ie["a"],new ie["n"],new ie["p"],new ie["o"],new ie["q"],new ie["h"],new ie["f"],new ie["j"]({openOnClick:!1})],onUpdate:function(t){var a=t.getHTML;e.contentUpdated(a())}})},props:{value:String,label:String,readonly:{type:Boolean,default:!0},toolbar:{type:Array,default:function(){return[[{command:"paragraph",label:"P",params:{}},{command:"heading",label:"H1",params:{level:1}},{command:"heading",label:"H2",params:{level:2}},{command:"heading",label:"H3",params:{level:3}},{command:"heading",label:"H4",params:{level:4}},{command:"heading",label:"H5",params:{level:5}},{command:"heading",label:"H6",params:{level:6}},{command:"code_block",icon:"code"}],[{command:"bold",icon:"format_bold"},{command:"italic",icon:"format_italic"},{command:"strike",icon:"format_strikethrough"},{command:"underline",icon:"format_underline"},{command:"code",icon:"functions"}],[{method:"addLink",command:"link",activeCommand:"link",icon:"link"}],[{command:"bullet_list",icon:"format_list_bulleted"},{command:"ordered_list",icon:"format_list_numbered"},{command:"blockquote",icon:"format_quote"}],[{command:"createTable",activeCommand:"table",icon:"border_all",params:{rowsCount:3,colsCount:3,withHeaderRow:!0},dontSendParamsToActiveCommand:!0},{command:"deleteTable",activeCommand:"table",showCommand:"table",icon:"border_all",color:"negative"},{command:"addColumnBefore",activeCommand:"table",showCommand:"table",icon:"border_left",color:"positive"},{command:"addColumnAfter",activeCommand:"table",showCommand:"table",icon:"border_right",color:"positive"},{command:"deleteColumn",activeCommand:"table",showCommand:"table",icon:"border_vertical",color:"negative"},{command:"addRowBefore",activeCommand:"table",showCommand:"table",icon:"border_top",color:"positive"},{command:"addRowAfter",activeCommand:"table",showCommand:"table",icon:"border_bottom",color:"positive"},{command:"deleteRow",activeCommand:"table",showCommand:"table",icon:"border_horizontal",color:"negative"},{command:"toggleCellMerge",activeCommand:"table",showCommand:"table",icon:"border_outer",color:"dark"}]]}}},data:function(){return{editor:null,editingSource:!1}},methods:{methodBridge:function(e,t,a){this[e](t,a)},addLink:function(e,t){this.$q.dialog({title:"Link address",prompt:{model:t.href||"https://",type:"text"},cancel:!0,persistent:!0}).onOk((function(t){e({href:t})})).onCancel((function(){})).onDismiss((function(){}))},contentUpdated:function(e){this.$emit("input",e)}},computed:{sourceCode:{get:function(){return this.value},set:function(e){this.editor.setContent(e),this.$emit("input",e)}}},watch:{readonly:function(){this.editor.setOptions({editable:!this.readonly})}},beforeDestroy:function(){this.editor.destroy()}},oe=re,se=(a("d41e"),Object(q["a"])(oe,te,ae,!1,null,null,null)),le=se.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex justify-between"},[a("nq-input",{staticStyle:{flex:"1"},attrs:{readonly:e.readonly||e.auto,label:e.label},model:{value:e.computedValue,callback:function(t){e.computedValue=t},expression:"computedValue"}}),e._v("\n  "+e._s(e.entity.title)+"\n  "),e.readonly?e._e():a("q-checkbox",{attrs:{label:"Auto"},on:{input:e.changeAuto},model:{value:e.auto,callback:function(t){e.auto=t},expression:"auto"}})],1)},ce=[],ue=a("3666"),pe=a.n(ue),me={props:{value:{type:String,default:""},readonly:{type:Boolean,default:!0},label:{type:String,default:"Slug"},entity:{type:Object,default:function(){return{}}},lang:{type:String,default:null},fromField:{type:String,default:"contents.title"}},data:function(){return{auto:!1,referenceField:{type:null,object:null,prop:null},referencedValue:""}},mounted:function(){this.refresh()},beforeRouteUpdate:function(e,t,a){this.refresh(),a()},computed:{valueReference:function(){return null===this.referenceField.type?null:this.referenceField.object[this.referenceField.prop]},computedValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{refresh:function(){"new"===this.entity.id&&(this.auto=!0);var e=this.fromField.split(".");if(1===e.length)this.referenceField={type:"entity",object:this.entity,prop:e[0]};else if("contents"===e[0])for(var t in this.entity.contents)this.entity.contents[t].field===e[1]&&this.entity.contents[t].lang===this.lang&&(this.referenceField={type:"content",object:this.entity.contents[t],prop:"text"});else"properties"===e[0]&&(this.referenceField=this.entity.properties,this.referenceField={type:"properties",object:this.entity.properties,prop:e[1]})},calculateSlug:function(){this.$emit("input",pe()(this.referencedValue,{lower:!0,strict:!0}))},changeAuto:function(){this.auto&&this.calculateSlug()}},watch:{valueReference:function(e){this.referencedValue=e,this.auto&&this.calculateSlug()}}},ge=me,fe=Object(q["a"])(ge,de,ce,!1,null,null,null),he=fe.exports,be={name:"Content",components:{Children:M,Relations:W,RelationsReceived:ee,Media:z,HtmlEditor:le,Slug:he},data:function(){return{editing:!1,loading:!0,saving:!1,fieldsets:[],ancestors:[],clearing:!1,entity:{id:"",model:"",view:"",contents:[],properties:{title:""},entity_relations:[],parent_entity_id:"",is_active:!0,published_at:null,unpublished_at:null,version:0,version_full:0,version_relations:0,version_tree:0,created_at:null,updated_at:null,updated_by:null}}},created:function(){var e=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.refreshEntity(e.$route.params.entity_id);case 2:case"end":return t.stop()}}),t)})))()},beforeRouteUpdate:function(e,t,a){var n=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.refreshEntity(e.params.entity_id,e.params.model,e.params.parent_entity_id);case 2:a();case 3:case"end":return t.stop()}}),t)})))()},methods:{refreshEntity:function(e,t,a){var n=this;return l()(o.a.mark((function i(){var r,s;return o.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n.loading=!0,n.editing=!1,n.saving=!1,n.fieldsets=[],n.$store.commit("setEditButton",!0),n.$store.commit("setSaveButton",!1),n.entity.id=e||"home","new"===e){i.next=23;break}return i.next=10,n.$api.get("/entities/".concat(n.entity.id,"?with=contents,entities_related"));case 10:if(r=i.sent,n.loading=!1,!r.success){i.next=20;break}return n.entity=r.data,i.next=16,n.$api.get("/entities?ancestor-of=".concat(n.entity.id,"&descendant-of=website&select=id,contents.title,properties"));case 16:s=i.sent,s.success?n.ancestors=s.data.data:n.ancestors=[],i.next=21;break;case 20:n.entity={contents:[],entity_relations:[]};case 21:i.next=32;break;case 23:n.entity=c.a.cloneDeep(n.$store.state.content.blankEntity),n.entity.model=t||n.$route.params.model,n.entity.view=t||n.$route.params.model,n.entity.id=e||n.$route.params.entity_id,n.entity.parent_entity_id=a||n.$route.params.parent_entity_id,n.entity.published_at=p()().format(),n.entity.unpublished_at=null,n.editing=!0,n.$nextTick((function(){n.loading=!1}));case 32:n.fieldsets=c.a.get(n.$store.state,"ui.config.models.".concat(n.entity.model,".form"),[]);case 33:case"end":return i.stop()}}),i)})))()},clearCache:function(){var e=this;return l()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clearing=!0,t.next=3,e.$api.delete("/static/web".concat("website"!==e.entity.id?"/".concat(e.entity.id):""));case 3:a=t.sent,a.success?e.$q.notify({position:"top",color:"positive",message:e.$t("contents.cacheCleared")}):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")}),e.clearing=!1;case 6:case"end":return t.stop()}}),t)})))()},getValue:function(e){if(!e.isMultiLang){if(e.value&&e.value.startsWith("properties.")){var t=e.value.split(".")[1];return this.entity.properties[t]}return this.entity[e.value]}var a=this.findContentRow(e.props);if(a)return a.text;this.entity.contents.push({lang:e.props.lang,field:e.props.field,text:""})},setValue:function(e,t){if(e.isMultiLang){var a=this.findContentRow(e.props);a&&(a.text=t)}else if(e.value&&e.value.startsWith("properties.")){var n=e.value.split(".")[1];this.$set(this.entity.properties,n,t)}else this.entity[e.value]=t},getRules:function(e){var t=[];if(e.rules)for(var a in e.rules)t.push(this.$rules[e.rules[a][0]](e.rules[a][1],e.rules[a][2],e.rules[a][3]));return t},findContentRow:function(e){if(this.entity)return c.a.find(this.entity.contents,(function(t){return t.lang===e.lang&&t.field===e.field}))},cancel:function(){this.isNew?this.$router.replace({name:"content",params:{entity_id:this.$route.params.parent_entity_id}}):this.refreshEntity(this.entity.id)},save:function(){var e=this;return l()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.saving=!0,!e.isNew){t.next=8;break}return"new"===e.entity.id&&delete e.entity.id,t.next=5,e.$api.post("/entities",e.entity);case 5:a=t.sent,t.next=11;break;case 8:return t.next=10,e.$api.patch("/entities/".concat(e.entity.id),e.entity);case 10:a=t.sent;case 11:e.saving=!1,a.success?(e.$q.notify({position:"top",color:"positive",message:e.$t("contents.saveOk")}),e.editing=!1,e.isNew&&e.$router.replace({name:"content",params:{entity_id:a.data.id}})):e.$q.notify({position:"top",color:"negative",message:e.$t("general.saveError"),caption:"".concat(a.data.message," (").concat(a.status,")")});case 13:case"end":return t.stop()}}),t)})))()},onDelete:function(){var e=this;this.$q.dialog({title:this.$t("general.delete"),ok:{label:this.$t("general.delete"),color:"negative"},cancel:{label:this.$t("general.cancel"),color:"grey",flat:!0},message:this.$t("general.sure")}).onOk(l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.delete("/entities/".concat(e.entity.id));case 2:e.$router.back();case 3:case"end":return t.stop()}}),t)}))))},isBefore:function(e,t){return t||(t=p()()),p()(e).isBefore(t)}},computed:{getEntityTitle:function(){if(!this.entity)return"";var e=this.findContentRow({lang:this.$store.state.ui.config.langs[0],field:"title"});return e&&""!==e.text?e.text:this.entity.properties?this.entity.properties.title||this.$t(this.$store.getters.nameOf(this.entity.model)):""},isNew:function(){return"new"===this.$route.params.entity_id},isEditable:function(){return c.a.get(this.$store.state,"ui.config.models.".concat(this.entity.model,".editable"),!0)},views:function(){return c.a.get(this.$store.state,"ui.config.models.".concat(this.entity.model,".views"),[this.entity.model])},contentLang:{set:function(e){this.$store.commit("setLang",e)},get:function(){return this.$store.state.ui.lang}}}},ve=be,_e=(a("0733"),Object(q["a"])(ve,n,i,!1,null,null,null));t["default"]=_e.exports},d01d:function(e,t,a){},d41e:function(e,t,a){"use strict";var n=a("ec3b"),i=a.n(n);i.a},d4c1:function(e,t,a){"use strict";var n=a("57ea"),i=a.n(n);i.a},d688:function(e,t,a){"use strict";var n=a("827a"),i=a.n(n);i.a},ec3b:function(e,t,a){}}]);