(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0364":function(e,t,n){},"0733":function(e,t,n){"use strict";var a=n("0364"),i=n.n(a);i.a},"4b82":function(e,t,n){},"4c65":function(e,t,n){"use strict";var a=n("4b82"),i=n.n(a);i.a},"55f0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"medium-item",class:{"cursor-drag":e.reorderMode}},[e.medium.properties&&e.medium.properties.isWebImage&&"svg"!==e.medium.properties.format&&!e.uploading?n("q-img",{staticClass:"checkered-bg",attrs:{src:e.medium.thumb+"?"+Math.random(),ratio:1,contain:""}}):e._e(),e.medium.properties&&e.medium.properties.isWebImage&&"svg"===e.medium.properties.format&&!e.uploading?n("q-img",{staticClass:"checkered-bg",attrs:{src:e.medium.original+"?"+Math.random(),ratio:1,contain:""}}):e._e(),e.medium.properties&&e.medium.properties.isWebImage&&!e.uploading?e._e():n("q-responsive",{attrs:{ratio:1}},[n("div",{staticClass:"rounded-borders bg-grey-2 text-white flex flex-center"},[e.medium.properties&&e.medium.properties.isWebImage?e._e():n("q-icon",{attrs:{size:"80px",color:"grey-5",name:e.medium.properties?e.medium.properties.isImage?"image":e.medium.properties.isVideo?"movie":e.medium.properties.isAudio?"graphic_eq":e.medium.properties.isDocument?"description":"insert_drive_file":"blur_on"}})],1)]),n("q-icon",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"absolute-top-left",staticStyle:{left:"16px",top:"16px",opacity:"0.5"},attrs:{name:"cloud_upload",size:"lg"}}),n("q-file",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"filePicker",staticClass:"absolute-top-left",staticStyle:{width:"4em",height:"4em",left:"8px",top:"8px"},attrs:{label:"",outlined:"",rounded:"",accept:e.acceptedFile,loading:e.uploading},on:{input:e.updateFile,rejected:e.rejectedFile},scopedSlots:e._u([{key:"file",fn:function(){},proxy:!0}])}),n("q-btn-dropdown",{staticClass:"absolute-top-right",attrs:{round:"","dropdown-icon":"more_vert",flat:"",color:"grey-6"}},[n("q-list",[n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:{name:"content",params:{entity_id:e.medium.id}},target:"_blank"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"launch"}})],1),n("q-item-section",[n("q-item-label",[e._v(e._s(e.$t("media.edit")))])],1)],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.onUnlink}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"link_off"}})],1),n("q-item-section",[n("q-item-label",[e._v(e._s(e.$t("media.unlink")))])],1)],1),n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.$refs.filePicker.pickFiles()}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"cloud_upload"}})],1),n("q-item-section",[n("q-item-label",[e._v(e._s(e.$t("media.replace")))])],1)],1)],1)],1),n("q-separator"),n("q-card-actions",{staticClass:"row",attrs:{side:""}},[n("h3",{staticClass:"col-12",staticStyle:{"word-break":"break-all"}},[n("q-icon",{staticClass:"q-mr-xs",attrs:{name:e.medium.properties?e.medium.properties.isImage?"image":e.medium.properties.isVideo?"movie":e.medium.properties.isAudio?"graphic_eq":e.medium.properties.isDocument?"description":"insert_drive_file":"blur_on"}}),e._v("\n      "+e._s(e.medium.content.title||e.$t(e.$store.getters.nameOf(e.medium.model)))+"\n      "),e.medium.properties?n("span",{staticClass:"text-grey-8"},[e._v("("+e._s(e.medium.properties.format)+")")]):e._e()],1),e.tags&&e.tags.length>0?n("div",{staticClass:"row items-center col-12"},[n("q-select",{ref:"tagSelector",staticClass:"tag-select",attrs:{options:e.tags,multiple:"","use-chips":"",dense:"",borderless:""},on:{input:e.onInput},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"local_offer",size:"xs",color:"info"}}),n("small",[e._v(e._s(e.$t("contents.addTag")))])]},proxy:!0}],null,!1,3002110394),model:{value:e.editingTags,callback:function(t){e.editingTags=t},expression:"editingTags"}}),e.editing?n("q-btn",{attrs:{dense:"",outline:"",rounded:"",icon:"check",size:"sm",color:"positive",loading:e.saving},on:{click:e.acceptTags}},[e._v(e._s(e.$t("general.confirm"))+"  ")]):e._e(),e.editing?n("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",color:"grey"},on:{click:e.cancelTags}},[e._v(e._s(e.$t("general.cancel")))]):e._e()],1):e._e()])],1)},i=[],r=n("4db1"),o=n.n(r),s=(n("7f7f"),n("967e")),l=n.n(s),d=(n("96cf"),n("fa84")),c=n.n(d),u=n("2ef0"),p=n.n(u),m={name:"MediaItem",props:["medium","tags","reorderMode","entity_id","allowed"],data:function(){return{uploading:!1,saving:!1,editing:!1,editingTags:[],storedTags:[]}},mounted:function(){this.editingTags=p.a.clone(this.medium.medium.tags),this.storedTags=p.a.clone(this.medium.medium.tags)},methods:{onInput:function(){this.$refs.tagSelector.hidePopup(),this.editing=!0},acceptTags:function(){var e=this;return c()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.tagSelector.hidePopup(),e.saving=!0,e.storedTags=p.a.clone(e.editingTags),t.next=5,e.$api.post("/entities/".concat(e.entity_id,"/relations/").concat(e.medium.id,"/medium"),{tags:e.storedTags,position:e.medium.media_position,depth:0});case 5:e.saving=!1,e.editing=!1;case 7:case"end":return t.stop()}}),t)})))()},cancelTags:function(){this.$refs.tagSelector.hidePopup(),this.editingTags=p.a.clone(this.storedTags),this.editing=!1,this.saving=!1},onUnlink:function(){var e=this;this.$q.dialog({title:this.$t("media.unlink"),ok:{label:this.$t("general.ok"),color:"primary"},cancel:{label:this.$t("general.cancel"),color:"grey",flat:!0},message:this.$t("media.unlinkConfirm")}).onOk(c()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.delete("/entities/".concat(e.entity_id,"/relations/").concat(e.medium.id,"/medium"));case 2:e.$emit("getMedia");case 3:case"end":return t.stop()}}),t)}))))},updateFile:function(e){var t=this;return c()(l.a.mark((function n(){var a;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=new FormData,a.append("file",e),t.uploading=!0,n.next=5,t.$api.post("/media/".concat(t.medium.id,"/upload"),a,{"Content-Type":"multipart/form-data"});case 5:t.uploading=!1;case 6:case"end":return n.stop()}}),n)})))()},rejectedFile:function(e){var t="";for(var n in e)t+=" - "+e[n].file.name;this.$q.notify({position:"top",color:"negative",message:this.$t("media.invalidFormat"),caption:t})}},computed:{acceptedFile:function(){var e=this;if(!this.allowed||"*"===this.allowed[0]||""===this.allowed[0]||""===this.allowed||"*"===this.allowed)return"";var t=[];return p.a.each(this.allowed,(function(n){t=[].concat(o()(t),o()(p.a.get(e.$store.state.ui.config,"formats.".concat(n),[n])))})),"."+t.join(", .")}}},g=m,f=(n("82dc"),n("2877")),h=Object(f["a"])(g,a,i,!1,null,null,null);t["a"]=h.exports},"57ea":function(e,t,n){},"827a":function(e,t,n){},"82dc":function(e,t,n){"use strict";var a=n("b69d"),i=n.n(a);i.a},8928:function(e,t,n){"use strict";var a=n("d01d"),i=n.n(a);i.a},b69d:function(e,t,n){},cf8e:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-form",{on:{submit:e.save}},[n("nq-page",{attrs:{title:e.getEntityTitle,"max-width":"lg"}},[e.ancestors.length>0?n("template",{slot:"before"},[n("q-breadcrumbs",[e._l(e.ancestors,(function(e){return n("q-breadcrumbs-el",{key:e.id,attrs:{label:e.content.title||(e.properties?e.properties.title:null)||"-",to:{name:"content",params:{entity_id:e.id}}}})})),n("q-breadcrumbs-el")],2)],1):e._e(),e.$store.state.ui.config&&e.$store.state.ui.config.langs.length>1?n("div",{staticClass:"rounded-borders shadow-1",attrs:{id:"langSelector"}},[e._l(e.$store.state.ui.config.langs,(function(t){return n("q-radio",{key:t,attrs:{size:"sm",val:t,label:e.$t(t)},model:{value:e.contentLang,callback:function(t){e.contentLang=t},expression:"contentLang"}})})),n("q-radio",{attrs:{val:"all",label:e.$t("all")},model:{value:e.contentLang,callback:function(t){e.contentLang=t},expression:"contentLang"}})],2):e._e(),n("template",{slot:"aside"},[n("h2",[e._v(e._s(e.$t("contents.publication")))]),n("q-card",[e.loading?e._e():n("q-card-section",[n("div",{staticClass:"row q-col-gutter-sm"},[n("nq-select",{staticClass:"col-12",attrs:{dense:"",label:"Status",readonly:!e.editing,options:["public","draft","private"]},model:{value:e.entity.visibility,callback:function(t){e.$set(e.entity,"visibility",t)},expression:"entity.visibility"}}),n("nq-select",{staticClass:"col-12",attrs:{dense:"",label:e.$t("contents.view"),readonly:!e.editing,options:e.views},model:{value:e.entity.view,callback:function(t){e.$set(e.entity,"view",t)},expression:"entity.view"}}),e.editing?n("nq-date-time",{staticClass:"col-12",attrs:{dense:"","display-format":"dddd DD MMMM YYYY, h:mm a",label:e.$t("contents.publishedAt"),readonly:!e.editing},model:{value:e.entity.published_at,callback:function(t){e.$set(e.entity,"published_at",t)},expression:"entity.published_at"}}):e._e(),e.editing?e._e():n("nq-field",{staticClass:"col-12",attrs:{label:e.$t("contents.publishedAt"),readonly:"","stack-label":""}},[n("p",{class:{"text-warning":!e.isBefore(e.entity.published_at)}},[e._v(e._s(e._f("moment")(e.entity.published_at,"dddd DD MMMM YYYY, h:mm a"))+" "+e._s(e.isBefore(e.entity.published_at)?"S":"N")+"\n                "),n("small",[e._v("(UTC "+e._s(e._f("moment")(e.entity.published_at,"Z"))+")")])])]),n("nq-input",{staticClass:"col-12",attrs:{label:"ID",readonly:!e.isNew,"stack-label":"",rules:[e.$rules.required(),e.$rules.minLength(3),e.$rules.maxLength(16),function(e){return RegExp("^[A-Za-z0-9_-]{3,16}$").test(e)}]},model:{value:e.entity.id,callback:function(t){e.$set(e.entity,"id",t)},expression:"entity.id"}}),n("q-btn",{staticClass:"col-8 offset-2",attrs:{flat:"",size:"sm",loading:e.clearing},on:{click:e.clearCache}},[e._v(e._s(e.$t("contents.clearCache")))])],1)]),e.loading?n("q-card-section",[n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}})],1):e._e()],1),n("div",{staticClass:"flex flex-center q-mt-md"},[n("q-btn",{attrs:{size:"xs",color:"negative",flat:""},on:{click:e.onDelete}},[e._v(e._s(e.$t("general.delete")))])],1)],1),e.loading?[n("h2",[e._v(" ")]),n("q-card",[e.loading?n("q-card-section",[n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}}),n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QSlider"}})],1):e._e()],1)]:e._e(),e.loading?e._e():e._l(e.fieldsets,(function(t,a){return n("div",{key:a},[n("h2",[e._v(e._s(e.$t(t.label)))]),n("q-card",[n("q-card-section",[n("div",{staticClass:"row q-col-gutter-md"},e._l(t.components,(function(t,a){return n(t.component,e._b({directives:[{name:"show",rawName:"v-show",value:!t.isMultiLang||t.isMultiLang&&(t.props.lang===e.contentLang||"all"===e.contentLang),expression:"!component.isMultiLang || (component.isMultiLang && (component.props.lang === contentLang || contentLang === 'all'))"}],key:a,tag:"div",staticClass:"col-12",attrs:{label:e.$t(t.label)+" "+(t.isMultiLang?"("+t.props.lang+")":""),readonly:!e.editing,"data-multilingual":t.isMultiLang,"data-lang":t.props?t.props.lang:"",lang:t.props?t.props.lang:null,entity:e.entity,value:e.getValue(t),rules:e.getRules(t)},on:{input:function(n){return e.setValue(t,n)}}},"div",t.props,!1))})),1)])],1)],1)})),n("div",{staticClass:"fixed-top-right text-white action-buttons"},[e.editing||e.loading||!e.isEditable?e._e():n("q-btn",{staticClass:"bg-accent no-border-radius",attrs:{push:"",size:"lg",icon:"edit",label:e.$t("general.edit"),type:"a",disable:e.saving},on:{click:function(t){e.editing=!0}}}),e.editing?n("q-btn",{staticClass:"no-border-radius q-mr-sm",attrs:{type:"a",flat:"",size:"md",label:e.$t("general.cancel")},on:{click:e.cancel}}):e._e(),e.editing?n("q-btn",{staticClass:"bg-positive no-border-radius",attrs:{push:"",size:"lg",icon:"cloud_upload",disable:e.loading||e.saving,loading:e.saving,type:"submit",label:e.$t("general.save")}}):e._e()],1)],2)],1)},i=[],r=(n("a481"),n("7514"),n("28a5"),n("f559"),n("967e")),o=n.n(r),s=(n("96cf"),n("fa84")),l=n.n(s),d=n("2ef0"),c=n.n(d),u=n("c1df"),p=n.n(u),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",{staticClass:"flex column items-end"},[n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QBtn"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),e.readonly?e._e():n("q-banner",{staticClass:"bg-grey-2 text-center"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?n("div",[n("div",{staticClass:"q-mb-md flex justify-end"},[e.models&&e.models.length>1?n("q-btn-dropdown",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")}},[n("q-list",e._l(e.models,(function(t){return n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t,attrs:{clickable:""},on:{click:function(n){return e.add(t)}}},[n("q-item-section",[n("q-item-label",[e._v(e._s(e.$t(e.$store.getters.nameOf(t))))])],1)],1)})),1)],1):e._e(),e.models&&1===e.models.length?n("q-btn",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")+" "+e.$t(e.$store.getters.nameOf(e.models[0]))},on:{click:function(t){return e.add(e.models[0])}}}):e._e()],1),!e.children||e.children&&0===e.children.length?n("q-banner",{staticClass:"bg-grey-2 text-center"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),n("q-list",{attrs:{bordered:""}},[n("draggable",e._b({attrs:{disabled:!e.reorderMode},model:{value:e.children,callback:function(t){e.children=t},expression:"children"}},"draggable",e.getDragOptions(),!1),e._l(e.children,(function(t){return n("child-item",{key:t.id,attrs:{child:t,entity_id:e.entity.id,tags:e.tags,reorderMode:e.reorderMode}})})),1)],1),this.lastPage>1?n("div",{staticClass:"flex flex-center q-my-md"},[n("q-pagination",{attrs:{max:e.lastPage,"boundary-links":!0,disabled:this.loading},on:{input:e.changePage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e(),e.canReorder&&!e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",icon:"swap_vert",label:e.$t("contents.reorder")},on:{click:e.startReorder}}):e._e(),e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{loading:e.reordering,disable:e.reordering,flat:"",icon:"done",label:e.$t("general.confirm"),color:"positive"},on:{click:e.reorder}}):e._e(),e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",label:e.$t("general.cancel"),color:"grey"},on:{click:e.cancelReorder}}):e._e()],1):e._e()],1)},g=[],f=(n("e956"),n("310e")),h=n.n(f),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-item",{staticClass:"child-item",class:{"cursor-drag":e.reorderMode}},[n("q-item-section",{attrs:{avatar:"",top:""}},[n("div",{staticClass:"flex items-center item-avatar"},[e.reorderMode?n("q-icon",{attrs:{name:"drag_indicator",size:"md",color:"grey"}}):e._e(),n("q-avatar",{class:{"cursor-drag":e.reorderMode,disabled:!e.child.is_active},attrs:{icon:e.$store.getters.iconOf(e.child.model),color:"grey","text-color":"white"}})],1)]),n("q-item-section",[n("q-item-label",[n("h3",[e.reorderMode?n("span",[e._v(e._s(e.child.content.title||e.child.properties.title||e.$t(e.$store.getters.nameOf(e.child.model))))]):e._e(),e.reorderMode?e._e():n("router-link",{attrs:{to:{name:"content",params:{entity_id:e.child.id}}}},[e._v(e._s(e.child.content.title||e.child.properties.title||e.$t(e.$store.getters.nameOf(e.child.model))))])],1)]),n("q-item-label",{attrs:{caption:"",lines:"1"}},[e._v("\n      "+e._s(e.$t(e.$store.getters.nameOf(e.child.model)))+" |\n      "),n("span",{class:{"text-warning":!e.isBefore(e.child.published_at)}},[e._v(e._s(e._f("moment")(e.child.published_at,"dddd DD MMMM YYYY, h:mm a")))]),e._v(" |\n      "),n("span",{class:{"text-warning":"public"!==e.child.visibility,"text-positive":"public"===e.child.visibility}},[e._v(e._s(e.child.visibility))])])],1),e.tags&&e.tags.length>0?n("q-item-section",{attrs:{side:""}},[n("div",{staticClass:"row items-center tag-select"},[n("q-select",{ref:"tagSelector",attrs:{options:e.tags,multiple:"","use-chips":"",dense:"","options-dense":"",borderless:""},on:{input:e.onInput},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"local_offer",size:"xs",color:"info"}}),n("small",[e._v(e._s(e.$t("contents.addTag")))])]},proxy:!0}],null,!1,3002110394),model:{value:e.editingTags,callback:function(t){e.editingTags=t},expression:"editingTags"}}),e.editing?n("q-btn",{attrs:{dense:"",outline:"",rounded:"",icon:"check",size:"sm",color:"positive",loading:e.saving},on:{click:e.acceptTags}},[e._v(e._s(e.$t("general.confirm"))+"  ")]):e._e(),e.editing?n("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",color:"grey"},on:{click:e.cancelTags}},[e._v(e._s(e.$t("general.cancel")))]):e._e()],1)]):e._e()],1)},v=[],y={name:"ChildItem",props:["child","tags","reorderMode","entity_id"],data:function(){return{saving:!1,editing:!1,editingTags:[],storedTags:[]}},mounted:function(){this.editingTags=c.a.clone(this.child.child.tags),this.storedTags=c.a.clone(this.child.child.tags)},methods:{onInput:function(){this.$refs.tagSelector.hidePopup(),this.editing=!0},acceptTags:function(){var e=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.tagSelector.hidePopup(),e.saving=!0,e.storedTags=c.a.clone(e.editingTags),t.next=5,e.$api.post("/entities/".concat(e.child.id,"/relations/").concat(e.entity_id,"/ancestor"),{tags:e.storedTags,position:e.child.child_relation_position,depth:1});case 5:e.saving=!1,e.editing=!1;case 7:case"end":return t.stop()}}),t)})))()},cancelTags:function(){this.$refs.tagSelector.hidePopup(),this.editingTags=c.a.clone(this.storedTags),this.editing=!1,this.saving=!1},isBefore:function(e,t){return t||(t=p()()),p()(e).isBefore(t)}}},_=y,q=n("2877"),w=Object(q["a"])(_,b,v,!1,null,null,null),k=w.exports,$={components:{ChildItem:k,draggable:h.a},name:"Children",props:{entity:{},readonly:{type:Boolean,default:!0},ofModel:{type:Array,default:function(){return[]}},models:{type:Array,default:function(){return[]}},tags:{type:Array,default:function(){return[]}},orderBy:{type:String,default:"relation_children.position"}},data:function(){return{loading:!0,children:[],storedChildren:[],reorderMode:!1,reordering:!1,currentPage:1,perPage:1,lastPage:1,total:1,to:1,from:1}},mounted:function(){this.getChildren()},methods:{changePage:function(e){this.currentPage=e,this.getChildren()},getChildren:function(){var e=this;return l()(o.a.mark((function t(){var n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("new"!==e.entity.id){t.next=3;break}return e.loading=!1,t.abrupt("return");case 3:return e.loading=!0,t.next=6,e.$api.get("/entities?children-of=".concat(e.entity.id,"&select=content.title,properties,published_at,unpublished_at,model,id,visibility&only-published=false&order-by=").concat(e.orderBy,"&page=").concat(e.currentPage));case 6:n=t.sent,e.loading=!1,n.success?(e.children=n.data.data,e.currentPage=n.data.current_page,e.perPage=n.data.per_page,e.lastPage=n.data.last_page,e.total=n.data.total,e.to=n.data.to,e.from=n.data.from):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 9:case"end":return t.stop()}}),t)})))()},add:function(e){this.$router.push({name:"content",params:{entity_id:"new",model:e,conector:"in",parent_entity_id:this.entity.id}})},getDragOptions:function(){return{animation:500,sort:!0}},startReorder:function(){this.storedChildren=c.a.cloneDeep(this.children),this.reorderMode=!0},cancelReorder:function(){this.children=c.a.cloneDeep(this.storedChildren),this.reorderMode=!1},reorder:function(){var e=this;return l()(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reordering=!0,n=c.a.flatMap(e.children,(function(e){return e.child.relation_id})),t.next=4,e.$api.patch("/entities/".concat(e.entity.id,"/relations/reorder"),{relation_ids:n});case 4:a=t.sent,e.reordering=!1,a.success?e.reorderMode=!1:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 7:case"end":return t.stop()}}),t)})))()}},computed:{canReorder:function(){return"relation_children.position"===this.orderBy}}},x=$,C=(n("8928"),Object(q["a"])(x,m,g,!1,null,null,null)),M=C.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",{staticClass:"row q-col-gutter-md"},[n("q-skeleton",{staticClass:"col-3 offset-9 q-mt-md",attrs:{type:"QBtn"}}),e._l(3,(function(e){return n("div",{key:e,staticClass:"col-xs-12 col-sm-6 col-md-4"},[n("q-card",{staticClass:"full-width",attrs:{flat:"",bordered:""}},[n("q-skeleton",{attrs:{height:"200px",square:"",animation:"fade"}}),n("q-card-section",[n("q-skeleton",{staticClass:"text-subtitle2",attrs:{type:"text",animation:"fade"}}),n("q-skeleton",{staticClass:"text-subtitle2",attrs:{type:"text",width:"50%",animation:"fade"}})],1)],1)],1)}))],2):e._e(),e.readonly?e._e():n("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?n("div",[n("div",{staticClass:"q-mb-md flex justify-end"},[e.allowed&&e.allowed.length>0?n("q-btn",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")},on:{click:function(t){e.addMediaDialog=!0}}}):e._e()],1),!e.media||e.media&&0===e.media.length?n("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),n("draggable",e._b({staticClass:"row draggable-container q-col-gutter-md",attrs:{disabled:!e.reorderMode},model:{value:e.media,callback:function(t){e.media=t},expression:"media"}},"draggable",e.getDragOptions(),!1),e._l(e.media,(function(t){return n("div",{key:t.id,staticClass:"col-xs-12 col-sm-6 col-md-4"},[n("medium-item",{staticClass:"full-width full-height",attrs:{medium:t,entity_id:e.entity.id,tags:e.tags,allowed:e.allowed,reorderMode:e.reorderMode},on:{getMedia:e.getMedia}})],1)})),0),e.canReorder&&!e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",icon:"swap_vert",label:e.$t("contents.reorder")},on:{click:e.startReorder}}):e._e(),e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{loading:e.reordering,disable:e.reordering,flat:"",icon:"done",label:e.$t("general.confirm"),color:"positive"},on:{click:e.reorder}}):e._e(),e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",label:e.$t("general.cancel"),color:"grey"},on:{click:e.cancelReorder}}):e._e()],1):e._e(),n("q-dialog",{attrs:{persistent:""},on:{hide:e.onMediaDialogHide},model:{value:e.addMediaDialog,callback:function(t){e.addMediaDialog=t},expression:"addMediaDialog"}},[n("q-card",{staticStyle:{width:"90vw"}},[n("q-card-section",{staticClass:"q-pb-none"},[n("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"info"},model:{value:e.addMediaTab,callback:function(t){e.addMediaTab=t},expression:"addMediaTab"}},[n("q-tab",{attrs:{name:"upload",label:e.$t("media.upload")}}),n("q-tab",{attrs:{name:"library",label:e.$t("media.library")}})],1)],1),n("q-separator"),"upload"===e.addMediaTab?n("q-card-section",{staticClass:"scroll",staticStyle:{height:"50vh"}},[n("q-file",{ref:"filePicker",staticClass:"full-width media-library-file-picker",class:{"with-files":this.uploadProgress.length>0},attrs:{value:e.uploadProgress,label:e.$t("media.select"),outlined:"",multiple:"",accept:e.acceptedFiles},on:{input:e.updateFiles,rejected:e.rejectedFiles},scopedSlots:e._u([{key:"file",fn:function(){},proxy:!0}],null,!1,3076132943)}),e.uploadProgress.length>0?n("q-list",{staticClass:"rounded-borders media-library-file-list q-mt-md"},e._l(e.uploadProgress,(function(t,a){return n("q-item",{key:a,staticClass:"q-pa-none q-mb-md"},[n("q-item-section",[n("nq-input",{staticClass:"full-width q-mb-xs",attrs:{diabled:t.uploading||t.created,readonly:t.uploading||t.created,size:"sm",dense:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("small",[e._v(e._s(e._f("numeral")(t.size,"0a")))])]},proxy:!0}],null,!0),model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"fileToUpload.name"}}),n("q-item-label",[n("q-linear-progress",{staticClass:"full-width",attrs:{value:t.percent,color:t.color,indeterminate:t.creating}})],1)],1),n("q-item-section",{attrs:{side:""}},[e.uploading?e._e():n("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"clear",size:"sm",round:"",flat:"",color:"grey"},on:{click:function(t){return e.removeFile(a)}}}),e.uploading?n("q-circular-progress",{attrs:{"track-color":"grey-3",value:t.uploaded?1:0,color:t.uploaded?"positive":"primary",indeterminate:t.uploading||t.creating,size:"sm"}}):e._e()],1)],1)})),1):e._e()],1):e._e(),"upload"===e.addMediaTab?n("q-separator"):e._e(),"upload"===e.addMediaTab?n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{color:"grey",flat:"",label:e.$t("general.cancel")}}),n("q-btn",{attrs:{color:"primary",icon:"cloud_upload",label:e.$t("media.upload"),disable:!e.canUpload,loading:e.uploading},on:{click:e.upload}})],1):e._e(),"library"===e.addMediaTab?n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("TBD")])]):e._e()],1)],1)],1)},R=[],T=(n("ac6a"),n("cadf"),n("06db"),n("c5f6"),n("7f7f"),n("55f0")),P={components:{MediumItem:T["a"],draggable:h.a},name:"Media",props:{entity:{},readonly:{type:Boolean,default:!0},allowed:{type:Array,default:function(){return[]}},tags:{type:Array,default:function(){return[]}}},data:function(){return{loading:!0,media:[],storedMedia:[],reorderMode:!1,reordering:!1,addMediaDialog:!1,addMediaTab:"upload",uploadProgress:[],uploading:!1}},mounted:function(){this.getMedia()},methods:{getMedia:function(){var e=this;return l()(o.a.mark((function t(){var n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,"new"===e.entity.id){t.next=7;break}return t.next=4,e.$api.get("/entities?of-model=Medium&media-of=".concat(e.entity.id,"&select=content.title,properties,model,id&only-published=false&order-by=relation_media.position&per-page=100"));case 4:n=t.sent,e.loading=!1,n.success?e.media=n.data.data:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},add:function(e){this.$router.push({name:"content",params:{entity_id:"new",model:e,conector:"in",parent_entity_id:this.entity.id}})},getDragOptions:function(){return{animation:500,sort:!0}},startReorder:function(){this.storedMedia=c.a.cloneDeep(this.media),this.reorderMode=!0},cancelReorder:function(){this.media=c.a.cloneDeep(this.storedMedia),this.reorderMode=!1},reorder:function(){var e=this;return l()(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reordering=!0,console.log(e.media),n=c.a.flatMap(e.media,(function(e){return e.medium.relation_id})),t.next=5,e.$api.patch("/entities/".concat(e.entity.id,"/relations/reorder"),{relation_ids:n});case 5:a=t.sent,e.reordering=!1,a.success?e.reorderMode=!1:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 8:case"end":return t.stop()}}),t)})))()},updateFiles:function(e){var t=this,n=function(n){if(!c.a.find(t.uploadProgress,(function(t){return t.file.name===e[n].name&&t.file.lastModified===e[n].lastModified}))){var a=e[n].name,i=a.lastIndexOf(".");i>-1&&(a=a.substr("0",i)),a=a.replace("-"," "),a=a.replace("_"," "),t.uploadProgress.push({createError:!1,uploadError:!1,size:e[n].size,name:a,percent:0,indeterminate:!1,creating:!1,created:!1,uploading:!1,uploaded:!1,tags:[],file:e[n],color:"primary"})}};for(var a in e)n(a);this.$refs.filePicker.blur()},removeFile:function(e){this.uploadProgress.splice(e,1)},upload:function(){var e=this;return l()(o.a.mark((function t(){var n,a,i,r,s,l,d;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.uploading=!0,n=!0,t.t0=o.a.keys(e.uploadProgress);case 3:if((t.t1=t.t0()).done){t.next=44;break}if(a=t.t1.value,i={},e.uploadProgress[a].created){t.next=17;break}for(s in e.uploadProgress[a].creating=!0,r={},e.$store.state.ui.config.langs)r[e.$store.state.ui.config.langs[s]]=e.uploadProgress[a].name;return t.next=12,e.$api.post("/entities",{model:"medium",contents:[{lang:"en",field:"title",text:e.uploadProgress[a].name}],relate_to:{caller_entity_id:e.entity.id,kind:"medium",position:Number(e.media.length)+Number(a),tags:e.uploadProgress[a].tags}});case 12:i=t.sent,e.uploadProgress[a].creating=!1,e.uploadProgress[a].id=i.data.id,t.next=18;break;case 17:i.success=!0;case 18:if(!i.success){t.next=38;break}if(e.uploadProgress[a].createError=!1,e.uploadProgress[a].created=!0,l={},e.uploadProgress[a].uploaded){t.next=33;break}return e.uploadProgress[a].uploading=!0,e.uploadProgress[a].color="primary",e.uploadProgress[a].percent=0,d=new FormData,d.append("file",e.uploadProgress[a].file),t.next=30,e.$api.post("/media/".concat(e.uploadProgress[a].id,"/upload"),d,{"Content-Type":"multipart/form-data"});case 30:l=t.sent,t.next=34;break;case 33:l.success=!0;case 34:e.uploadProgress[a].uploading=!1,l.success?(e.uploadProgress[a].uploadError=!1,e.uploadProgress[a].uploaded=!0,e.uploadProgress[a].percent=1,e.uploadProgress[a].color="positive"):(n=!1,e.uploadProgress[a].uploadError=!0,e.uploadProgress[a].percent=1,e.uploadProgress[a].color="negative"),t.next=42;break;case 38:n=!1,e.uploadProgress[a].createError=!0,e.uploadProgress[a].percent=0,e.uploadProgress[a].color="negative";case 42:t.next=3;break;case 44:n&&(e.getMedia(),e.onMediaDialogHide(),e.addMediaDialog=!1),e.uploading=!1;case 46:case"end":return t.stop()}}),t)})))()},onMediaDialogHide:function(){this.uploadProgress=[]},rejectedFiles:function(e){var t="";for(var n in e)t+=" - "+e[n].file.name;this.$q.notify({position:"top",color:"negative",message:this.$t("media.invalidFormat"),caption:t})}},computed:{canReorder:function(){return this.media.length>1},canUpload:function(){return this.uploadProgress.length>0},acceptedFiles:function(){return"*"}}},D=P,E=(n("4c65"),Object(q["a"])(D,S,R,!1,null,null,null)),I=E.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",{staticClass:"flex column items-end"},[n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QBtn"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),e.readonly?e._e():n("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?n("div",[n("div",{staticClass:"q-mb-md flex justify-end"},[n("q-btn",{attrs:{outline:"",color:"positive",icon:"add_circle",label:e.$t("general.add")+" / "+e.$t("general.edit")},on:{click:function(t){e.addRelationsDialog=!0}}})],1),!e.relations||e.relations&&0===e.relations.length?n("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),n("q-list",{attrs:{bordered:""}},[n("draggable",e._b({attrs:{disabled:!e.reorderMode},model:{value:e.relations,callback:function(t){e.relations=t},expression:"relations"}},"draggable",e.getDragOptions(),!1),e._l(e.relations,(function(t){return n("relation-item",{key:t.relation_id,attrs:{relation:t,entity_id:e.entity.id,tags:e.tags,reorderMode:e.reorderMode},on:{getRelations:e.getRelations}})})),1)],1),e.canReorder&&!e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",icon:"swap_vert",label:e.$t("contents.reorder")},on:{click:e.startReorder}}):e._e(),e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{loading:e.reordering,disable:e.reordering,flat:"",icon:"done",label:e.$t("general.confirm"),color:"positive"},on:{click:e.reorder}}):e._e(),e.reorderMode?n("q-btn",{staticClass:"q-mt-sm",attrs:{flat:"",label:e.$t("general.cancel"),color:"grey"},on:{click:e.cancelReorder}}):e._e()],1):e._e(),n("q-dialog",{attrs:{persistent:""},on:{"before-hide":e.onRelationsDialogHide,"before-show":e.onRelationsDialogShow},model:{value:e.addRelationsDialog,callback:function(t){e.addRelationsDialog=t},expression:"addRelationsDialog"}},[n("q-card",{staticStyle:{width:"90vw"}},[n("q-card-section",[e.loadingRelationables?n("div",{staticClass:"flex column items-end"},[n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),!e.loadingRelationables&&e.relationables.length>0?n("q-list",{attrs:{bordered:""}},e._l(e.relationables,(function(t){return n("q-item",{key:t.id,staticClass:"child-item",attrs:{clickable:""},on:{click:function(n){return e.addRelationable(t)}}},[n("q-item-section",{attrs:{avatar:"",top:""}},[n("div",{staticClass:"flex items-center item-avatar"},[e._l(t.descendant_relation_depth,(function(t){return n("span",{key:t},[e._v("   ")])})),n("q-avatar",{attrs:{icon:e.$store.getters.iconOf(t.model),color:"grey","text-color":"white",size:"md"}})],2)]),n("q-item-section",[n("q-item-label",[n("h3",[e._v("\n                  "+e._s(t.content.title||e.$t(e.$store.getters.nameOf(t.model)))+"\n                ")])])],1),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"check_circle",color:t.isSelected?"positive":"grey-4"}})],1)],1)})),1):e._e()],1),n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{color:"grey",flat:"",label:e.$t("general.cancel")}}),n("q-btn",{attrs:{color:"primary",label:e.$t("general.confirm"),loading:e.loading},on:{click:e.save}})],1)],1)],1)],1)},z=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-item",{staticClass:"child-item",class:{"cursor-drag":e.reorderMode}},[n("q-item-section",{attrs:{avatar:"",top:""}},[n("div",{staticClass:"flex items-center item-avatar"},[e.reorderMode?n("q-icon",{attrs:{name:"drag_indicator",size:"md",color:"grey"}}):e._e(),n("q-avatar",{attrs:{icon:e.$store.getters.iconOf(e.relation.model),color:"grey","text-color":"white",size:"md"}})],1)]),n("q-item-section",[n("q-item-label",[n("h3",[e.reorderMode?n("span",[e._v(e._s(e.relation.content.title||e.$t(e.$store.getters.nameOf(e.relation.model))))]):e._e(),e._v("\n        "+e._s(e.relation.content.title||e.$t(e.$store.getters.nameOf(e.relation.model)))+"\n      ")])])],1),e.tags&&e.tags.length>0?n("q-item-section",{attrs:{side:""}},[n("div",{staticClass:"row items-center"},[n("q-select",{ref:"tagSelector",attrs:{options:e.tags,multiple:"","use-chips":"","menu-anchor":"top left","menu-self":"bottom middle",dense:"",borderless:"","hide-dropdown-icon":""},on:{input:e.onInput},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"local_offer",size:"sm",color:"info"}})]},proxy:!0}],null,!1,1619695918),model:{value:e.editingTags,callback:function(t){e.editingTags=t},expression:"editingTags"}}),e.editing?n("q-btn",{attrs:{dense:"",outline:"",rounded:"",icon:"check",size:"sm",color:"positive",loading:e.saving},on:{click:e.acceptTags}},[e._v(e._s(e.$t("general.confirm"))+"  ")]):e._e(),e.editing?n("q-btn",{attrs:{dense:"",flat:"",rounded:"",size:"sm",color:"grey"},on:{click:e.cancelTags}},[e._v(e._s(e.$t("general.cancel")))]):e._e()],1)]):e._e(),e.tags&&e.tags.length>0?n("q-item-section",{attrs:{side:""}},[n("q-select",{attrs:{options:[{value:"unlink",label:e.$t("contents.unlink")}],"menu-anchor":"top left","menu-self":"bottom middle","display-value":"",dense:"",borderless:"","hide-dropdown-icon":""},on:{input:e.onSubmenu},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"more_vert",size:"sm",color:"grey-7"}})]},proxy:!0}],null,!1,2007916550),model:{value:e.secondaryMenu,callback:function(t){e.secondaryMenu=t},expression:"secondaryMenu"}})],1):e._e()],1)},F=[],L={name:"RelationItem",props:["relation","tags","reorderMode","entity_id"],data:function(){return{saving:!1,editing:!1,editingTags:[],storedTags:[],secondaryMenu:null}},mounted:function(){this.editingTags=c.a.clone(this.relation.related_by.tags),this.storedTags=c.a.clone(this.relation.related_by.tags)},methods:{onInput:function(){this.$refs.tagSelector.hidePopup(),this.editing=!0},acceptTags:function(){var e=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.tagSelector.hidePopup(),e.saving=!0,e.storedTags=c.a.clone(e.editingTags),t.next=5,e.$api.post("/entities/".concat(e.entity_id,"/relations/").concat(e.relation.id,"/").concat(e.relation.related_by.kind),{tags:e.storedTags,position:e.relation.related_by.position,depth:0});case 5:e.saving=!1,e.editing=!1;case 7:case"end":return t.stop()}}),t)})))()},cancelTags:function(){this.$refs.tagSelector.hidePopup(),this.editingTags=c.a.clone(this.storedTags),this.editing=!1,this.saving=!1},onSubmenu:function(e){var t=this;return l()(o.a.mark((function n(){return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.t0=e.value,n.next="unlink"===n.t0?3:7;break;case 3:return n.next=5,t.$api.delete("/entities/".concat(t.entity_id,"/relation/").concat(t.relation.id,"/").concat(t.relation.relation_kind));case 5:return t.$emit("getRelations"),n.abrupt("break",7);case 7:case"end":return n.stop()}}),n)})))()}}},j=L,A=Object(q["a"])(j,B,F,!1,null,null,null),Q=A.exports,N={components:{RelationItem:Q,draggable:h.a},name:"Relations",props:{entity:{},readonly:{type:Boolean,default:!0},kind:{type:String,default:""},from_entity_id:{type:String,default:""},list:{type:String,default:"children"},tags:{type:Array,default:function(){return[]}},models:{type:Array,default:function(){return[]}}},data:function(){return{loading:!0,relations:[],relationsIds:{},storedRelations:[],reorderMode:!1,reordering:!1,addRelationsDialog:!1,uploadProgress:[],uploading:!1,loadingRelationables:!1,relationables:[]}},mounted:function(){this.getRelations()},methods:{getRelations:function(){var e=this;return l()(o.a.mark((function t(){var n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("new"!==e.entity.id){t.next=4;break}return e.relations=[],e.loading=!1,t.abrupt("return");case 4:return e.loading=!0,t.next=7,e.$api.get("/entities?related-by=".concat(e.entity.id,":").concat(e.kind,"&select=id,model,content.title&only-published=false&order-by=relation.position&per-page=100"));case 7:n=t.sent,e.loading=!1,n.success?(e.relations=n.data.data,e.relationsIds={},e.relations.forEach((function(t){e.relationsIds[t.id]=!0}))):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 10:case"end":return t.stop()}}),t)})))()},getDragOptions:function(){return{animation:500,sort:!0}},startReorder:function(){this.storedRelations=c.a.cloneDeep(this.relations),this.reorderMode=!0},cancelReorder:function(){this.relations=c.a.cloneDeep(this.storedRelations),this.reorderMode=!1},reorder:function(){var e=this;return l()(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reordering=!0,n=c.a.flatMap(e.relations,(function(e){return e.related_by.relation_id})),t.next=4,e.$api.patch("/entities/".concat(e.entity.id,"/relations/reorder"),{relation_ids:n});case 4:a=t.sent,e.reordering=!1,a.success?e.reorderMode=!1:e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 7:case"end":return t.stop()}}),t)})))()},onRelationsDialogHide:function(){this.getRelations()},onRelationsDialogShow:function(){var e=this;return l()(o.a.mark((function t(){var n,a,i,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRelationables=!0,n="descendants"===e.list?"descendants-of":"children-of",t.next=4,e.$api.get("/entities?".concat(n,"=").concat(e.from_entity_id,"&select=id,parent_entity_id,model,content.title&only-published=false&order-by=descendant.depth,descendant.position&per-page=100"));case 4:if(a=t.sent,a.success)if("descendants"===e.list){for(i={},r=0;r<a.data.data.length;r++)a.data.data[r].isSelected=!!e.relationsIds[a.data.data[r].id],void 0===i[a.data.data[r].parent_entity_id]&&(i[a.data.data[r].parent_entity_id]=[]),i[a.data.data[r].parent_entity_id].push(a.data.data[r]);e.relationables=e.treeSort(i,e.from_entity_id,[])}else e.relationables=a.data.data;e.loadingRelationables=!1;case 7:case"end":return t.stop()}}),t)})))()},treeSort:function(e,t,n){if(void 0!==e[t]){for(var a=e[t].sort((function(e,t){return console.log(e.descendant),e.descendant.position>t.descendant.position})),i=0;i<a.length;i++)n.push(a[i]),this.treeSort(e,a[i].id,n);return n}},addRelationable:function(e){e.isSelected=!e.isSelected},save:function(){var e=this;return l()(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.loading=!0,n=[],a=0;a<e.relationables.length;a++)!e.relationsIds[e.relationables[a].id]&&e.relationables[a].isSelected?n.push({method:"POST",url:"/entities/".concat(e.entity.id,"/relations/").concat(e.relationables[a].id,"/").concat(e.kind),data:{tags:[],position:e.relations.length+1+a,depth:1}}):e.relationsIds[e.relationables[a].id]&&!e.relationables[a].isSelected&&n.push({method:"DELETE",url:"/entities/".concat(e.entity.id,"/relations/").concat(e.relationables[a].id,"/").concat(e.kind)});return t.next=5,e.$api.bulkCall(n,!0);case 5:return t.next=7,e.getRelations();case 7:e.loading=!1,e.addRelationsDialog=!1;case 9:case"end":return t.stop()}}),t)})))()}},computed:{canReorder:function(){return!0}}},H=N,V=(n("d688"),Object(q["a"])(H,O,z,!1,null,null,null)),Y=V.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",{staticClass:"flex column items-end"},[n("q-skeleton",{staticClass:"q-mb-md",attrs:{type:"QBtn"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),e.readonly?e._e():n("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.saveBefore")))]),!e.loading&&e.readonly?n("div",[!e.relations||e.relations&&0===e.relations.length?n("q-banner",{staticClass:"bg-grey-2 text-center q-mb-md"},[e._v(e._s(e.$t("general.noItems")))]):e._e(),n("q-list",{attrs:{bordered:""}},[n("draggable",e._b({attrs:{disabled:!e.reorderMode},model:{value:e.relations,callback:function(t){e.relations=t},expression:"relations"}},"draggable",e.getDragOptions(),!1),e._l(e.relations,(function(t){return n("relation-item",{key:t.relation_id,attrs:{relation:t,entity_id:e.entity.id,tags:e.tags},on:{getRelations:e.getRelations}})})),1)],1)],1):e._e(),n("q-dialog",{attrs:{persistent:""},on:{"before-hide":e.onRelationsDialogHide,"before-show":e.onRelationsDialogShow},model:{value:e.addRelationsDialog,callback:function(t){e.addRelationsDialog=t},expression:"addRelationsDialog"}},[n("q-card",{staticStyle:{width:"90vw"}},[n("q-card-section",[e.loadingRelationables?n("div",{staticClass:"flex column items-end"},[n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}}),n("q-skeleton",{staticClass:"q-mb-md full-width",attrs:{type:"QInput"}})],1):e._e(),!e.loadingRelationables&&e.relationables.length>0?n("q-list",{attrs:{bordered:""}},e._l(e.relationables,(function(t){return n("q-item",{key:t.id,staticClass:"child-item",attrs:{clickable:""},on:{click:function(n){return e.addRelationable(t)}}},[n("q-item-section",{attrs:{avatar:"",top:""}},[n("div",{staticClass:"flex items-center item-avatar"},[e._l(t.descendant_relation_depth,(function(t){return n("span",{key:t},[e._v("   ")])})),n("q-avatar",{attrs:{icon:e.$store.getters.iconOf(t.model),color:"grey","text-color":"white",size:"md"}})],2)]),n("q-item-section",[n("q-item-label",[n("h3",[e._v("\n                  "+e._s(t.title||e.$t(e.$store.getters.nameOf(t.model)))+"\n                ")])])],1),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"check_circle",color:t.isSelected?"positive":"grey-4"}})],1)],1)})),1):e._e()],1),n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{color:"grey",flat:"",label:e.$t("general.cancel")}}),n("q-btn",{attrs:{color:"primary",label:e.$t("general.confirm"),loading:e.loading},on:{click:e.save}})],1)],1)],1)],1)},W=[],J={components:{RelationItem:Q,draggable:h.a},name:"RelationsReceived",props:{entity:{},readonly:{type:Boolean,default:!0},kind:{type:String,default:""},from_entity_id:{type:String,default:""},list:{type:String,default:"children"},tags:{type:Array,default:function(){return[]}},models:{type:Array,default:function(){return[]}}},data:function(){return{loading:!0,relations:[],relationsIds:{},storedRelations:[],reorderMode:!1,reordering:!1,addRelationsDialog:!1,uploadProgress:[],uploading:!1,loadingRelationables:!1,relationables:[]}},mounted:function(){this.getRelations()},methods:{getRelations:function(){var e=this;return l()(o.a.mark((function t(){var n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.get("/entities?relating=".concat(e.entity.id,":").concat(e.kind,"&select=id,model,contents.title&only-published=false&order-by=relation.position&per-page=100"));case 3:n=t.sent,e.loading=!1,n.success?(e.relations=n.data.data,e.relationsIds={},e.relations.forEach((function(t){e.relationsIds[t.id]=!0}))):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")});case 6:case"end":return t.stop()}}),t)})))()},getDragOptions:function(){return{animation:500,sort:!0}},onRelationsDialogHide:function(){this.getRelations()},onRelationsDialogShow:function(){var e=this;return l()(o.a.mark((function t(){var n,a,i,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRelationables=!0,n="descendants"===e.list?"descendant-of":"child-of",t.next=4,e.$api.get("/entities?".concat(n,"=").concat(e.from_entity_id,"&select=id,parent_entity_id,model,contents.title&only-published=false&order-by=depth,position&per-page=100"));case 4:if(a=t.sent,a.success)if("descendants"===e.list){for(i={},r=0;r<a.data.data.length;r++)a.data.data[r].isSelected=!!e.relationsIds[a.data.data[r].id],void 0===i[a.data.data[r].parent_entity_id]&&(i[a.data.data[r].parent_entity_id]=[]),i[a.data.data[r].parent_entity_id].push(a.data.data[r]);e.relationables=e.treeSort(i,e.from_entity_id,[])}else e.relationables=a.data.data;e.loadingRelationables=!1;case 7:case"end":return t.stop()}}),t)})))()},treeSort:function(e,t,n){if(void 0!==e[t]){for(var a=e[t].sort((function(e,t){return e.descendant_relation_position>t.descendant_relation_position})),i=0;i<a.length;i++)n.push(a[i]),this.treeSort(e,a[i].id,n);return n}},addRelationable:function(e){e.isSelected=!e.isSelected},save:function(){var e=this;return l()(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.loading=!0,n=[],a=0;a<e.relationables.length;a++)!e.relationsIds[e.relationables[a].id]&&e.relationables[a].isSelected?n.push({method:"POST",url:"/entity/".concat(e.entity.id,"/relation"),data:{called_entity_id:e.relationables[a].id,kind:e.kind,tags:[],position:e.relations.length+1+a,depth:1}}):e.relationsIds[e.relationables[a].id]&&!e.relationables[a].isSelected&&n.push({method:"DELETE",url:"/entity/".concat(e.entity.id,"/relation/").concat(e.relationables[a].id,"/").concat(e.kind)});return t.next=5,e.$api.bulkCall(n,!0);case 5:return t.next=7,e.getRelations();case 7:e.loading=!1,e.addRelationsDialog=!1;case 9:case"end":return t.stop()}}),t)})))()}},computed:{canReorder:function(){return!0}}},Z=J,G=(n("d4c1"),Object(q["a"])(Z,U,W,!1,null,null,null)),K=G.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nq-field",{staticClass:"html-editor",attrs:{label:e.label,readonly:e.readonly,"stack-label":""}},[n("div",{staticClass:"full-width"},[e.editingSource?e._e():n("editor-menu-bar",{staticStyle:{position:"sticky",top:"64px","z-index":"100"},attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.commands,i=t.isActive,r=t.getMarkAttrs;return[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.readonly,expression:"!readonly"}],staticClass:"editor-menu-bar"},e._l(e.toolbar,(function(t,o){return n("q-btn-group",{key:o,staticClass:"q-mr-sm q-mb-sm bg-white"},e._l(t,(function(t,o){return n("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showCommand||i[t.showCommand](),expression:"action.showCommand ? isActive[action.showCommand]() : true"}],key:o,attrs:{size:"sm",flat:"",round:"",color:t.color?t.color:i[t.activeCommand||t.command](t.dontSendParamsToActiveCommand?{}:t.params)?"info":"dark",icon:t.icon,label:t.label},on:{click:function(n){t.method?e.methodBridge(t.method,a[t.command],r(t.command)):t.command&&a[t.command](t.params)}}})})),1)})),1)]}}],null,!1,826263943)}),!e.editingSource||e.readonly?n("div",{staticClass:"editor-content-container"},[n("editor-content",{staticClass:"editor-content",attrs:{editor:e.editor}})],1):e._e(),e.readonly?e._e():n("div",[e.editingSource?n("q-input",{staticClass:"full-width q-mt-sm",attrs:{type:"textarea"},model:{value:e.sourceCode,callback:function(t){e.sourceCode=t},expression:"sourceCode"}}):e._e(),n("q-btn",{staticClass:"q-my-xs",attrs:{flat:!e.editingSource,outline:e.editingSource,size:"sm",icon:e.editingSource?"close":""},on:{click:function(t){e.editingSource=!e.editingSource}}},[e._v("Edit source")])],1)],1)])},ee=[],te=n("cd42"),ne=n("f23d"),ae={name:"HtmlEdior",components:{EditorContent:te["b"],EditorMenuBar:te["c"]},mounted:function(){var e=this;this.editor=new te["a"]({content:this.value,editable:!this.readonly,extensions:[new ne["g"]({levels:[1,2,3,4,5,6]}),new ne["b"],new ne["i"],new ne["m"],new ne["r"],new ne["e"],new ne["d"],new ne["c"],new ne["l"],new ne["k"],new ne["a"],new ne["n"],new ne["p"],new ne["o"],new ne["q"],new ne["h"],new ne["f"],new ne["j"]({openOnClick:!1})],onUpdate:function(t){var n=t.getHTML;e.contentUpdated(n())}})},props:{value:String,label:String,readonly:{type:Boolean,default:!0},toolbar:{type:Array,default:function(){return[[{command:"paragraph",label:"P",params:{}},{command:"heading",label:"H1",params:{level:1}},{command:"heading",label:"H2",params:{level:2}},{command:"heading",label:"H3",params:{level:3}},{command:"heading",label:"H4",params:{level:4}},{command:"heading",label:"H5",params:{level:5}},{command:"heading",label:"H6",params:{level:6}},{command:"code_block",icon:"code"}],[{command:"bold",icon:"format_bold"},{command:"italic",icon:"format_italic"},{command:"strike",icon:"format_strikethrough"},{command:"underline",icon:"format_underline"},{command:"code",icon:"functions"}],[{method:"addLink",command:"link",activeCommand:"link",icon:"link"}],[{command:"bullet_list",icon:"format_list_bulleted"},{command:"ordered_list",icon:"format_list_numbered"},{command:"blockquote",icon:"format_quote"}],[{command:"createTable",activeCommand:"table",icon:"border_all",params:{rowsCount:3,colsCount:3,withHeaderRow:!0},dontSendParamsToActiveCommand:!0},{command:"deleteTable",activeCommand:"table",showCommand:"table",icon:"border_all",color:"negative"},{command:"addColumnBefore",activeCommand:"table",showCommand:"table",icon:"border_left",color:"positive"},{command:"addColumnAfter",activeCommand:"table",showCommand:"table",icon:"border_right",color:"positive"},{command:"deleteColumn",activeCommand:"table",showCommand:"table",icon:"border_vertical",color:"negative"},{command:"addRowBefore",activeCommand:"table",showCommand:"table",icon:"border_top",color:"positive"},{command:"addRowAfter",activeCommand:"table",showCommand:"table",icon:"border_bottom",color:"positive"},{command:"deleteRow",activeCommand:"table",showCommand:"table",icon:"border_horizontal",color:"negative"},{command:"toggleCellMerge",activeCommand:"table",showCommand:"table",icon:"border_outer",color:"dark"}]]}}},data:function(){return{editor:null,editingSource:!1}},methods:{methodBridge:function(e,t,n){this[e](t,n)},addLink:function(e,t){this.$q.dialog({title:"Link address",prompt:{model:t.href||"https://",type:"text"},cancel:!0,persistent:!0}).onOk((function(t){e({href:t})})).onCancel((function(){})).onDismiss((function(){}))},contentUpdated:function(e){this.$emit("input",e)}},computed:{sourceCode:{get:function(){return this.value},set:function(e){this.editor.setContent(e),this.$emit("input",e)}}},watch:{readonly:function(){this.editor.setOptions({editable:!this.readonly})}},beforeDestroy:function(){this.editor.destroy()}},ie=ae,re=(n("d41e"),Object(q["a"])(ie,X,ee,!1,null,null,null)),oe=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-between"},[n("nq-input",{staticStyle:{flex:"1"},attrs:{readonly:e.readonly||e.auto,label:e.label},model:{value:e.computedValue,callback:function(t){e.computedValue=t},expression:"computedValue"}}),e._v("\n  "+e._s(e.entity.title)+"\n  "),e.readonly?e._e():n("q-checkbox",{attrs:{label:"Auto"},on:{input:e.changeAuto},model:{value:e.auto,callback:function(t){e.auto=t},expression:"auto"}})],1)},le=[],de=n("3666"),ce=n.n(de),ue={props:{value:{type:String,default:""},readonly:{type:Boolean,default:!0},label:{type:String,default:"Slug"},entity:{type:Object,default:function(){return{}}},lang:{type:String,default:null},fromField:{type:String,default:"contents.title"}},data:function(){return{auto:!1,referenceField:{type:null,object:null,prop:null},referencedValue:""}},mounted:function(){this.refresh()},beforeRouteUpdate:function(e,t,n){this.refresh(),n()},computed:{valueReference:function(){return null===this.referenceField.type?null:this.referenceField.object[this.referenceField.prop]},computedValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{refresh:function(){"new"===this.entity.id&&(this.auto=!0);var e=this.fromField.split(".");if(1===e.length)this.referenceField={type:"entity",object:this.entity,prop:e[0]};else if("contents"===e[0])for(var t in this.entity.contents)this.entity.contents[t].field===e[1]&&this.entity.contents[t].lang===this.lang&&(this.referenceField={type:"content",object:this.entity.contents[t],prop:"text"});else"properties"===e[0]&&(this.referenceField=this.entity.properties,this.referenceField={type:"properties",object:this.entity.properties,prop:e[1]})},calculateSlug:function(){this.$emit("input",ce()(this.referencedValue,{lower:!0,strict:!0}))},changeAuto:function(){this.auto&&this.calculateSlug()}},watch:{valueReference:function(e){this.referencedValue=e,this.auto&&this.calculateSlug()}}},pe=ue,me=Object(q["a"])(pe,se,le,!1,null,null,null),ge=me.exports,fe={name:"Content",components:{Children:M,Relations:Y,RelationsReceived:K,Media:I,HtmlEditor:oe,Slug:ge},data:function(){return{editing:!1,loading:!0,saving:!1,fieldsets:[],ancestors:[],clearing:!1,entity:{id:"",model:"",view:"",contents:[],properties:{title:""},entity_relations:[],parent_entity_id:"",is_active:!0,published_at:null,unpublished_at:null,version:0,version_full:0,version_relations:0,version_tree:0,created_at:null,updated_at:null,updated_by:null}}},created:function(){var e=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.refreshEntity(e.$route.params.entity_id);case 2:case"end":return t.stop()}}),t)})))()},beforeRouteUpdate:function(e,t,n){var a=this;return l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.refreshEntity(e.params.entity_id,e.params.model,e.params.parent_entity_id);case 2:n();case 3:case"end":return t.stop()}}),t)})))()},methods:{refreshEntity:function(e,t,n){var a=this;return l()(o.a.mark((function i(){var r,s;return o.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a.loading=!0,a.editing=!1,a.saving=!1,a.fieldsets=[],a.$store.commit("setEditButton",!0),a.$store.commit("setSaveButton",!1),a.entity.id=e||"home","new"===e){i.next=23;break}return i.next=10,a.$api.get("/entities/".concat(a.entity.id,"?with=contents,entities_related"));case 10:if(r=i.sent,a.loading=!1,!r.success){i.next=20;break}return a.entity=r.data,i.next=16,a.$api.get("/entities?ancestors-of=".concat(a.entity.id,"&descendant-of=website&select=id,content.title,properties&order-by=ancestor.depth:DESC"));case 16:s=i.sent,s.success?a.ancestors=s.data.data:a.ancestors=[],i.next=21;break;case 20:a.entity={contents:[],entity_relations:[]};case 21:i.next=32;break;case 23:a.entity=c.a.cloneDeep(a.$store.state.content.blankEntity),a.entity.model=t||a.$route.params.model,a.entity.view=t||a.$route.params.model,a.entity.id=e||a.$route.params.entity_id,a.entity.parent_entity_id=n||a.$route.params.parent_entity_id,a.entity.published_at=p()().format(),a.entity.unpublished_at=null,a.editing=!0,a.$nextTick((function(){a.loading=!1}));case 32:a.fieldsets=c.a.get(a.$store.state,"ui.config.models.".concat(String(c.a.kebabCase(a.entity.model)).toLowerCase(),".form"),[]);case 33:case"end":return i.stop()}}),i)})))()},clearCache:function(){var e=this;return l()(o.a.mark((function t(){var n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clearing=!0,t.next=3,e.$api.delete("/static/web".concat("website"!==e.entity.id?"/".concat(e.entity.id):""));case 3:n=t.sent,n.success?e.$q.notify({position:"top",color:"positive",message:e.$t("contents.cacheCleared")}):e.$q.notify({position:"top",color:"negative",message:e.$t("general.serverError")}),e.clearing=!1;case 6:case"end":return t.stop()}}),t)})))()},getValue:function(e){if(!e.isMultiLang){if(e.value&&e.value.startsWith("properties.")){var t=e.value.split(".")[1];return this.entity.properties[t]}return this.entity[e.value]}var n=this.findContentRow(e.props);if(n)return n.text;this.entity.contents.push({lang:e.props.lang,field:e.props.field,text:""})},setValue:function(e,t){if(e.isMultiLang){var n=this.findContentRow(e.props);n&&(n.text=t)}else if(e.value&&e.value.startsWith("properties.")){var a=e.value.split(".")[1];this.$set(this.entity.properties,a,t)}else this.entity[e.value]=t},getRules:function(e){var t=[];if(e.rules)for(var n in e.rules)t.push(this.$rules[e.rules[n][0]](e.rules[n][1],e.rules[n][2],e.rules[n][3]));return t},findContentRow:function(e){if(this.entity)return c.a.find(this.entity.contents,(function(t){return t.lang===e.lang&&t.field===e.field}))},cancel:function(){this.isNew?this.$router.replace({name:"content",params:{entity_id:this.$route.params.parent_entity_id}}):this.refreshEntity(this.entity.id)},save:function(){var e=this;return l()(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.saving=!0,a=c.a.clone(e.entity),delete a.entities_related,!e.isNew){t.next=10;break}return"new"===e.entity.id&&delete a.id,t.next=7,e.$api.post("/entities",a);case 7:n=t.sent,t.next=13;break;case 10:return t.next=12,e.$api.patch("/entities/".concat(e.entity.id),a);case 12:n=t.sent;case 13:e.saving=!1,n.success?(e.$q.notify({position:"top",color:"positive",message:e.$t("contents.saveOk")}),e.editing=!1,e.isNew&&e.$router.replace({name:"content",params:{entity_id:n.data.id}})):e.$q.notify({position:"top",color:"negative",message:e.$t("general.saveError"),caption:"".concat(n.data.message," (").concat(n.status,")")});case 15:case"end":return t.stop()}}),t)})))()},onDelete:function(){var e=this;this.$q.dialog({title:this.$t("general.delete"),ok:{label:this.$t("general.delete"),color:"negative"},cancel:{label:this.$t("general.cancel"),color:"grey",flat:!0},message:this.$t("general.sure")}).onOk(l()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.delete("/entities/".concat(e.entity.id));case 2:e.$router.back();case 3:case"end":return t.stop()}}),t)}))))},isBefore:function(e,t){return t||(t=p()()),p()(e).isBefore(t)}},computed:{getEntityTitle:function(){if(!this.entity)return"";var e=this.findContentRow({lang:this.$store.state.ui.config.langs[0],field:"title"});return e&&""!==e.text?e.text:this.entity.properties?this.entity.properties.title||this.$t(this.$store.getters.nameOf(this.entity.model)):""},isNew:function(){return"new"===this.$route.params.entity_id},isEditable:function(){return c.a.get(this.$store.state,"ui.config.models.".concat(c.a.kebabCase(this.entity.model),".editable"),!0)},views:function(){return c.a.get(this.$store.state,"ui.config.models.".concat(c.a.kebabCase(this.entity.model),".views"),[c.a.kebabCase(this.entity.model)])},contentLang:{set:function(e){this.$store.commit("setLang",e)},get:function(){return this.$store.state.ui.lang}}}},he=fe,be=(n("0733"),Object(q["a"])(he,a,i,!1,null,null,null));t["default"]=be.exports},d01d:function(e,t,n){},d41e:function(e,t,n){"use strict";var a=n("ec3b"),i=n.n(a);i.a},d4c1:function(e,t,n){"use strict";var a=n("57ea"),i=n.n(a);i.a},d688:function(e,t,n){"use strict";var a=n("827a"),i=n.n(a);i.a},ec3b:function(e,t,n){}}]);